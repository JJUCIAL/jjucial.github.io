import{j as de,k as Z,l as K,m as U,n as ce,g as $,b as ee,c as te,C as me,i as j,W as ue,o as ye,p as we,q as Ce,r as Te,P as he,s as xe}from"./EventsPage.vue_vue_type_style_index_0_scoped_true_lang.77c58ebb.js";import{Q as J}from"./QBtn.362aab9d.js";import{_ as z,A as ae,Q as G,p as L,w as ke,x as De}from"./QImg.7b67e325.js";import{r as m,f as Y,p as le,G as N,N as F,L as o,I as l,K as n,J as E,R as D,z as ge,H as W,U as se,T as oe,M as u,O as fe,w as Se,at as re,au as H,S as ie,av as ve,aw as Ee}from"./index.76458e0e.js";import{d as pe,f as be}from"./debounce.b790a472.js";const Ne={name:"UpdatedCompetitionTable",setup(){m([]);const c=m([]),t=m(""),f=m(null),e=m(!1),p=m(!1),b=m(78623),a=m("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},g={low:"progress-low",medium:"progress-medium",high:"progress-high"},T=d=>d<1e6?g.none:d<5e6?g.low:d<1e7?g.medium:g.high,h=d=>d<1e6?`${(d/1e3).toFixed(2)}K`:`${(d/1e6).toFixed(2)}M`,y=d=>`${(d/1e6).toFixed(2)}M`,S=m([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),x=async()=>{p.value=!0;const d=new ue({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(b.value);a.value=r.title,c.value=r.participations.map(s=>{const _=s.player.exp||0,k=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:h(_),rawXp:_,lastChangedAt:be(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:h(k),rawGainedXP:k,progressGained:h(s.progress.gained),progressStart:h(s.progress.start),progressEnd:h(s.progress.end),levelsGained:h(s.levels.gained),levelsStart:h(s.levels.start),levelsEnd:h(s.levels.end),progressLevels:`Gained: ${h(s.progress.gained)}, Start: ${h(s.progress.start)}, End: ${h(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${y(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`EXP: ${y(s.progress.start)} <br /> LVLS: ${s.levels.start}`,totalEnd:`EXP: ${y(s.progress.end)} <br /> LVLS: ${s.levels.end}`,progressGainedClass:T(k),progressStartClass:T(s.progress.start),progressGainedClass:T(s.progress.gained),progressEndClass:T(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{p.value=!1}},P=pe(()=>{if(!t.value.trim())return;const d=c.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=c.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=c.value.splice(r,1);c.value.unshift(s),f.value=s.id,setTimeout(()=>f.value=null,2e3)}}else e.value=!0},300),V=Y(()=>t.value.trim()?c.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):c.value),I=d=>{b.value=d,x()};return le(x),{columns:S,filteredRows:V,searchQuery:t,highlightedId:f,debouncedSearch:P,playerNotFoundDialog:e,loading:p,updateCompetition:I,competitionTitle:a}}},Pe={class:"q-gutter-sm row items-center"},Ge=["innerHTML"],Le=["innerHTML"],Me=["innerHTML"],Ue=["innerHTML"],Fe=["src","alt"];function Ve(c,t,f,e,p,b){return N(),F(j,null,{default:o(()=>[l("div",Pe,[n(de,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(Z,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(ae,null,{default:o(()=>[n(G,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(78623))},{default:o(()=>[n(L,null,{default:o(()=>t[9]||(t[9]=[E("Farming")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(71017))},{default:o(()=>[n(L,null,{default:o(()=>t[10]||(t[10]=[E("Construction")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(65875))},{default:o(()=>[n(L,null,{default:o(()=>t[11]||(t[11]=[E("Agility")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(58100))},{default:o(()=>[n(L,null,{default:o(()=>t[12]||(t[12]=[E("Fishing")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(48025))},{default:o(()=>[n(L,null,{default:o(()=>t[13]||(t[13]=[E("Crafting")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[6]||(t[6]=a=>e.updateCompetition(44571))},{default:o(()=>[n(L,null,{default:o(()=>t[14]||(t[14]=[E("Prayer")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[7]||(t[7]=a=>e.updateCompetition(39755))},{default:o(()=>[n(L,null,{default:o(()=>t[15]||(t[15]=[E("Fletching")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(U,{class:D(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,Ge)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,Le)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Me)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,Ue)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(U,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,Fe)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(ce,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[8]||(t[8]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[16]||(t[16]=[E(" Player not found. Please try a different query. ")])),_:1}),n(te,{align:"right"},{default:o(()=>[ge(n(J,{flat:"",label:"Close"},null,512),[[me]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Ie=z(Ne,[["render",Ve]]);const Oe={setup(){const c=h=>{const y=h.getUTCFullYear(),S=String(h.getUTCMonth()+1).padStart(2,"0"),x=String(h.getUTCDate()).padStart(2,"0");return`${y}/${S}/${x}`},t=(h,y)=>{const S=[];let x=new Date(h);for(;x<=y;)S.push(c(x)),x.setUTCDate(x.getUTCDate()+1);return S},f=h=>{const y=b.value[h];return y?y.color||"white":null},b=m((h=>{const y={};return Object.keys(h).forEach(S=>{const{rangeEnd:x,...P}=h[S];t(new Date(S),new Date(x||S)).forEach(I=>{y[I]={...P}})}),y})({"2024/12/06":{rangeEnd:"2025/01/22",title:"Leagues V: Raging Echoes",description:"Leagues V: Raging Echoes is a temporary game mode in Old School RuneScape (OSRS) that will begin November 27, 2024.",image:"/homepage/leagues/virtus.png",color:"info"},"2024/12/31":{rangeEnd:"2024/12/31",title:"New Year's Rumble",description:"1.5B in prizes, hunters vs. hunted in PVP world at 3pm EST!",image:"/homepage/bonanza.png",color:"primary"},"2025/01/19":{rangeEnd:"2025/01/26",title:"GROUP BOSS OF THE WEEK - ZILY ",description:"BOTW will be a group competition and buyin phase will be January 12th - Jan 18th.",image:"/calendar/zily.png",color:"negative"},"2025/02/01":{rangeEnd:"2025/02/01",title:"Fashionscape Fiesta",description:"Congratulations to the winners! We plan to throw more fashionscape events in the future, perhaps with different themes?!",image:"/homepage/fashionfeb/lineup2.png",color:"pink"},"2025/02/16":{rangeEnd:"2025/03/02",title:"Skill of the Week - Farming",description:"PAYOUT TOP 3 XP / THRESHOLDS",image:"/calendar/toollep.png",color:"light-green"},"2025/03/23":{rangeEnd:"2025/03/30",title:"Skill of the Week - Magic",description:"PAYOUT TOP 3 XP / THRESHOLDS",image:"/calendar/magic.png",color:"blue-14"}})),a=[{startDate:new Date(Date.UTC(2024,11,6)),endDate:new Date(Date.UTC(2025,0,22))},{startDate:new Date(Date.UTC(2024,11,31)),endDate:new Date(Date.UTC(2024,11,31))},{startDate:new Date(Date.UTC(2025,0,19)),endDate:new Date(Date.UTC(2025,0,26))},{startDate:new Date(Date.UTC(2025,1,1)),endDate:new Date(Date.UTC(2025,1,1))},{startDate:new Date(Date.UTC(2025,1,16)),endDate:new Date(Date.UTC(2025,2,2))},{startDate:new Date(Date.UTC(2025,2,23)),endDate:new Date(Date.UTC(2025,2,30))}],g=m((h=>{const y=new Set;return h.forEach(({startDate:S,endDate:x})=>{t(S,x).forEach(P=>y.add(P))}),Array.from(y).sort()})(a)),T=c(new Date);return g.value.push(T),{splitterModel:m(50),date:m(T),events:g,eventDetails:b,getEventColor:f}}},Re={class:"q-pa-md"},Be={class:"text-h4 q-mb-md"};function ze(c,t,f,e,p,b){return N(),W("div",null,[n(Te,{modelValue:e.splitterModel,"onUpdate:modelValue":t[2]||(t[2]=a=>e.splitterModel=a),style:{height:"450px"}},{before:o(()=>[l("div",Re,[n(ye,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=a=>e.date=a),events:e.events,"event-color":e.getEventColor},null,8,["modelValue","events","event-color"])])]),after:o(()=>[n(we,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=a=>e.date=a),animated:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:o(()=>[(N(!0),W(se,null,oe(e.events,a=>(N(),F(Ce,{key:a,name:a},{default:o(()=>{var i,g,T;return[l("div",Be,u(((i=e.eventDetails[a])==null?void 0:i.title)||"No Event Scheduled"),1),l("p",null,u(((g=e.eventDetails[a])==null?void 0:g.description)||"No details available, please check out other planned events by viewing dates that are highlighted on the calendar."),1),(T=e.eventDetails[a])!=null&&T.image?(N(),F(ke,{key:0,src:e.eventDetails[a].image,alt:"Event Image",style:{"max-width":"100%","max-height":"200px"}},null,8,["src"])):fe("",!0)]}),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}var He=z(Oe,[["render",ze],["__scopeId","data-v-183ad881"]]);const Ae={name:"TeamLeaderboard",setup(){const c=m([]),t=m(!0),f=m({}),e="ag5idzcxq01s1yoocwth0llc",p={low:"progress-low",medium:"progress-medium",high:"progress-high"},b=r=>r<5e5?p.low:r<2e6?p.medium:p.high,a=m([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"team",label:"Team",align:"left",field:"team",sortable:!0},{name:"lastUpdated",label:"Last Updated",align:"center",field:"lastUpdated",sortable:!0}]),i=["clue_scrolls_hard","slayer","tombs_of_amascut","tombs_of_amascut_expert","zalcano","smithing","hitpoints","clue_scrolls_elite","thieving","agility","runecrafting"],g={},T=5*60*1e3,h=r=>new Promise(s=>setTimeout(s,r)),y=async(r,s={},_=3,k=1e3)=>{try{const w=await fetch(r,s);if(!w.ok)if(w.status===429||w.status>=500&&w.status<600){if(_>0)return console.warn(`Request failed with status ${w.status}. Retrying in ${k}ms...`),await h(k),y(r,s,_-1,k*2);throw new Error(`Request failed with status ${w.status} after retries.`)}else throw new Error(`Request failed with status ${w.status}.`);return w}catch(w){if(_>0)return console.warn(`Fetch error: ${w.message}. Retrying in ${k}ms...`),await h(k),y(r,s,_-1,k*2);throw w}},S=async r=>{const s=`https://api.wiseoldman.net/v2/competitions/68296/csv?metric=${r}`,_=r,k=Date.now();if(g[_]&&k-g[_].timestamp<T)return console.log(`Using cached data for metric: ${r}`),g[_].data;const M=await(await y(s,{headers:{Authorization:`Bearer ${e}`}})).text();return g[_]={timestamp:k,data:M},M},x=async()=>{t.value=!0;try{const r={};f.value={};for(const s of i)try{const _=await S(s);he.parse(_,{header:!0,skipEmptyLines:!0}).data.forEach(w=>{const M=w.Username,A=w.Team||"Unknown",X=parseInt(w.Gained)||0;r[M]||(r[M]={id:M,username:M,team:A,rank:parseInt(w.Rank),lastUpdated:w["Last Updated"]}),r[M][s]=X,r[M][`${s}Formatted`]=V(X),r[M][`${s}Class`]=b(X),f.value[A]||(f.value[A]={}),f.value[A][s]=(f.value[A][s]||0)+X}),a.value.find(w=>w.name===s)||a.value.push({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase()),align:"right",field:s,sortable:!0})}catch(_){console.error(`Error fetching metric ${s}:`,_)}c.value=Object.values(r)}catch(r){console.error("Error fetching metrics:",r)}finally{t.value=!1}},P=r=>new Intl.NumberFormat().format(r),V=r=>r>0?`+${P(r)}`:P(r),I=Y(()=>Object.entries(f.value).map(([r,s])=>({team:r,...s,...Object.fromEntries(Object.keys(s).map(_=>[`${_}Formatted`,V(s[_])]))}))),d=Y(()=>{const r=Object.keys(f.value).length?Object.keys(f.value[Object.keys(f.value)[0]]||{}).map(s=>({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase()),align:"right",field:s,sortable:!0})):[];return[{name:"team",label:"Team",align:"left",field:"team",sortable:!0},...r]});return le(x),{tableData:c,columns:a,loading:t,formatNumber:P,teamsGained:f,teamTableData:I,teamColumns:d}}};function qe(c,t,f,e,p,b){return N(),F(j,null,{default:o(()=>[n(K,{rows:e.tableData,columns:e.columns,"row-key":"username",loading:e.loading,"rows-per-page-options":[5,10,20,-1],class:"team-table",title:"Player Stats"},{"body-cell":o(({row:a,col:i})=>[n(U,{class:D(a[`${i.name}Class`])},{default:o(()=>[E(u(i.name==="rank"||i.name==="username"||i.name==="team"||i.name==="lastUpdated"?a[i.field]:a[`${i.name}Formatted`]||e.formatNumber(a[i.field]||0)),1)]),_:2},1032,["class"])]),_:1},8,["rows","columns","loading"]),Object.keys(e.teamsGained).length?(N(),F(K,{key:0,rows:e.teamTableData,columns:e.teamColumns,"row-key":"team",class:"team-table",title:"Team Stats"},{"body-cell":o(({row:a,col:i})=>[n(U,null,{default:o(()=>[E(u(i.name==="team"?a.team:a[`${i.name}Formatted`]||e.formatNumber(a[i.name]||0)),1)]),_:2},1024)]),_:1},8,["rows","columns"])):fe("",!0)]),_:1})}var Qe=z(Ae,[["render",qe],["__scopeId","data-v-d9253876"]]);const We=["src","alt"],Xe={__name:"EventButton",props:{label:{type:String,required:!0},tooltip:{type:String,required:!0},icon:{type:String,required:!0},animationClass:{type:String,required:!0},buttonClass:{type:String,default:""},active:{type:Boolean,default:!1}},emits:["click"],setup(c,{emit:t}){const f=c,e=t,p=m(null);function b(i,g){i.classList.remove(g),i.offsetWidth,i.classList.add(g)}Se(()=>f.active,i=>{i&&p.value&&b(p.value,f.animationClass)});function a(){e("click")}return(i,g)=>(N(),F(J,{glossy:"",dense:"",stack:"",label:c.label,color:c.active?"primary":"secondary",class:D([c.buttonClass,c.active?c.animationClass:""]),onClick:a},{default:o(()=>[n(De,null,{default:o(()=>[E(u(c.tooltip),1)]),_:1}),l("img",{ref_key:"iconRef",ref:p,class:D(["event-icon",c.active?c.animationClass:""]),src:c.icon,alt:c.label},null,10,We)]),_:1},8,["label","color","class"]))}};var Q=z(Xe,[["__scopeId","data-v-61fd6b16"]]);const je={setup(){const c="ag5idzcxq01s1yoocwth0llc",t=new Map,f=async(v,O={},R=5,B=1e3)=>{try{const C=await fetch(v,O);if(C.status===429)throw new Error("Rate limit exceeded");if(!C.ok)throw new Error(`HTTP error! Status: ${C.status}`);return C}catch(C){if(R>0)return console.warn(`Request failed: ${C.message}. Retrying in ${B}ms...`),await new Promise(q=>setTimeout(q,B)),f(v,O,R-1,B*2);throw C}},e=async(v,O={},R=5,B=1e3)=>{if(t.has(v))return console.log("Using cached data for",v),t.get(v);const q=await(await f(v,O,R,B)).text();return t.set(v,q),q},p=[{slug:"Team+Stolen+Gun",display:"Team Stolen Gun"},{slug:"Team+NOKOMIS",display:"Team NOKOMIS"},{slug:"Team+ren+vvs",display:"Team ren vvs"}],b=m(null),a=m(0),i=m(0),g=m(0),T=m(0),h=m(0),y=m(0),S=m(0),x=m(0),P=m(0),V=m(0),I=m(0),d=m(0),r=m(0);re(()=>{d.value=Number(g.value)+Number(T.value),r.value=Number(a.value)+Number(i.value)});const s=m(!0),_=m(3e4),k=v=>{if(!s.value){alert("Please wait 30 seconds before selecting a new team.");return}b.value=v,s.value=!1,setTimeout(()=>{s.value=!0},_.value)},w=["clue_scrolls_hard","clue_scrolls_elite","slayer","tombs_of_amascut","tombs_of_amascut_expert","hitpoints","thieving","agility","runecrafting","zalcano","smithing"],M=xe.exports.throttle(async()=>{if(!!b.value)try{await Promise.all(w.map(async v=>{const O=`https://api.wiseoldman.net/v2/competitions/68296/csv?table=team&teamName=${b.value.slug}&metric=${v}`,R=await e(O,{headers:{Authorization:`Bearer ${c}`}}),C=he.parse(R,{header:!0,skipEmptyLines:!0}).data.reduce((q,_e)=>{const ne=Number(_e.Gained);return q+(isNaN(ne)?0:ne)},0);v==="agility"&&(S.value=C),v==="slayer"&&(x.value=C),v==="clue_scrolls_hard"&&(a.value=C),v==="clue_scrolls_elite"&&(i.value=C),v==="tombs_of_amascut"&&(g.value=C),v==="tombs_of_amascut_expert"&&(T.value=C),v==="hitpoints"&&(h.value=C),v==="thieving"&&(y.value=C),v==="runecrafting"&&(P.value=C),v==="zalcano"&&(V.value=C),v==="smithing"&&(I.value=C)}))}catch(v){console.error("Error fetching data:",v)}},5e3);return re(()=>{b.value&&M()}),{delayTimer:_,teams:p,selectedTeam:b,updateSelectedTeam:k,agilityGained:S,clueScrollEliteGained:i,clueScrollHardGained:a,toaGained:g,toaExpertGained:T,hitpointsGained:h,thievingGained:y,runecraftingGained:P,zalcanoGained:V,smithingGained:I,slayerGained:x,toaTotal:d,cluesTotal:r,computePosition:(v,O)=>{const[R,,B]=O;let C=(v-R)/(B-R)*100;return Math.max(0,Math.min(100,C))},getThresholdClass:(v,O)=>{const[R,B,C]=O;return v<B?"progress-low":v<C?"progress-medium":"progress-high"},metricThresholds:{agility:[5e5,2e6,5e6],slayer:[1e6,5e6,1e7],runecrafting:[5e5,2e6,4e6],thieving:[25e5,5e6,1e7],hitpoints:[15e5,3e6,6e6],clues:[150,300,600],tombs:[150,500,1e3],zalcano:[250,500,1e3],smithing:[5e5,2e6,4e6]},formatNumber:v=>new Intl.NumberFormat().format(v)}}},Ke={class:"q-gutter-sm row items-center"},Ye={class:"stats-container"},Je={class:"stats-table"},Ze={class:"stats-cell"},$e={class:"progress-cell"},et={class:"threshold-label threshold-low"},tt={class:"threshold-label threshold-medium"},at={class:"threshold-label threshold-high"},lt={class:"stats-cell"},st={class:"progress-cell"},ot={class:"threshold-label threshold-low"},nt={class:"threshold-label threshold-medium"},rt={class:"threshold-label threshold-high"},it={class:"stats-cell"},dt={class:"progress-cell"},ct={class:"threshold-label threshold-low"},mt={class:"threshold-label threshold-medium"},ut={class:"threshold-label threshold-high"},ht={class:"stats-cell"},gt={class:"progress-cell"},ft={class:"threshold-label threshold-low"},vt={class:"threshold-label threshold-medium"},pt={class:"threshold-label threshold-high"},bt={class:"stats-cell"},_t={class:"progress-cell"},yt={class:"threshold-label threshold-low"},wt={class:"threshold-label threshold-medium"},Ct={class:"threshold-label threshold-high"},Tt={class:"stats-cell"},xt={class:"progress-cell"},kt={class:"threshold-label threshold-low"},Dt={class:"threshold-label threshold-medium"},St={class:"threshold-label threshold-high"},Et={class:"stats-cell"},Nt={class:"progress-cell"},Pt={class:"threshold-label threshold-low"},Gt={class:"threshold-label threshold-medium"},Lt={class:"threshold-label threshold-high"},Mt={class:"stats-cell"},Ut={class:"progress-cell"},Ft={class:"threshold-label threshold-low"},Vt={class:"threshold-label threshold-medium"},It={class:"threshold-label threshold-high"},Ot={class:"stats-cell"},Rt={class:"progress-cell"},Bt={class:"threshold-label threshold-low"},zt={class:"threshold-label threshold-medium"},Ht={class:"threshold-label threshold-high"};function At(c,t,f,e,p,b){return N(),F(j,{class:"page-container"},{default:o(()=>[l("div",Ke,[n(Z,{size:"xl",glossy:"",ripple:"",flat:"","text-color":"purple-7",outline:"",label:e.selectedTeam?e.selectedTeam.display:"Please select a Team",class:"col-auto","no-caps":""},{default:o(()=>[n(ae,null,{default:o(()=>[(N(!0),W(se,null,oe(e.teams,a=>(N(),F(G,{key:a.slug,clickable:"",onClick:i=>e.updateSelectedTeam(a)},{default:o(()=>[n(L,null,{default:o(()=>[E(u(a.display),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["label"])]),t[9]||(t[9]=l("p",{style:{"text-shadow":"1px 1px 1px black"}}," Please give the tables a few seconds to to load; it uses wiseoldman to fetch live data! ",-1)),l("div",Ye,[l("table",Je,[l("tr",null,[l("td",Ze,[l("div",$e,[l("div",et,u(e.formatNumber(e.metricThresholds.agility[0])),1),l("div",tt,u(e.formatNumber(e.metricThresholds.agility[1])),1),l("div",at,u(e.formatNumber(e.metricThresholds.agility[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.agilityGained,e.metricThresholds.agility)]),style:H({top:e.computePosition(e.agilityGained,e.metricThresholds.agility)+"%"})},u(e.formatNumber(e.agilityGained)),7)]),t[0]||(t[0]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/agility.png"})],-1))]),l("td",lt,[l("div",st,[l("div",ot,u(e.formatNumber(e.metricThresholds.slayer[0])),1),l("div",nt,u(e.formatNumber(e.metricThresholds.slayer[1])),1),l("div",rt,u(e.formatNumber(e.metricThresholds.slayer[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.slayerGained,e.metricThresholds.slayer)]),style:H({top:e.computePosition(e.slayerGained,e.metricThresholds.slayer)+"%"})},u(e.formatNumber(e.slayerGained)),7)]),t[1]||(t[1]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/slayer.png"})],-1))]),l("td",it,[l("div",dt,[l("div",ct,u(e.formatNumber(e.metricThresholds.runecrafting[0])),1),l("div",mt,u(e.formatNumber(e.metricThresholds.runecrafting[1])),1),l("div",ut,u(e.formatNumber(e.metricThresholds.runecrafting[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.runecraftingGained,e.metricThresholds.runecrafting)]),style:H({top:e.computePosition(e.runecraftingGained,e.metricThresholds.runecrafting)+"%"})},u(e.formatNumber(e.runecraftingGained)),7)]),t[2]||(t[2]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/runecraft.png"})],-1))])]),l("tr",null,[l("td",ht,[l("div",gt,[l("div",ft,u(e.formatNumber(e.metricThresholds.thieving[0])),1),l("div",vt,u(e.formatNumber(e.metricThresholds.thieving[1])),1),l("div",pt,u(e.formatNumber(e.metricThresholds.thieving[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.thievingGained,e.metricThresholds.thieving)]),style:H({top:e.computePosition(e.thievingGained,e.metricThresholds.thieving)+"%"})},u(e.formatNumber(e.thievingGained)),7)]),t[3]||(t[3]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/thieving.png"})],-1))]),l("td",bt,[l("div",_t,[l("div",yt,u(e.formatNumber(e.metricThresholds.tombs[0])),1),l("div",wt,u(e.formatNumber(e.metricThresholds.tombs[1])),1),l("div",Ct,u(e.formatNumber(e.metricThresholds.tombs[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.toaTotal,e.metricThresholds.tombs)]),style:H({top:e.computePosition(e.toaTotal,e.metricThresholds.tombs)+"%"})},u(e.formatNumber(e.toaTotal)),7)]),t[4]||(t[4]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/toa.png"}),l("img",{src:"/sprites/toaexpert.png"})],-1))]),l("td",Tt,[l("div",xt,[l("div",kt,u(e.formatNumber(e.metricThresholds.zalcano[0])),1),l("div",Dt,u(e.formatNumber(e.metricThresholds.zalcano[1])),1),l("div",St,u(e.formatNumber(e.metricThresholds.zalcano[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.zalcanoGained,e.metricThresholds.zalcano)]),style:H({top:e.computePosition(e.zalcanoGained,e.metricThresholds.zalcano)+"%"})},u(e.formatNumber(e.zalcanoGained)),7)]),t[5]||(t[5]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/zalcano.png"})],-1))])]),l("tr",null,[l("td",Et,[l("div",Nt,[l("div",Pt,u(e.formatNumber(e.metricThresholds.hitpoints[0])),1),l("div",Gt,u(e.formatNumber(e.metricThresholds.hitpoints[1])),1),l("div",Lt,u(e.formatNumber(e.metricThresholds.hitpoints[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.hitpointsGained,e.metricThresholds.hitpoints)]),style:H({top:e.computePosition(e.hitpointsGained,e.metricThresholds.hitpoints)+"%"})},u(e.formatNumber(e.hitpointsGained)),7)]),t[6]||(t[6]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/hitpoints.png"})],-1))]),l("td",Mt,[l("div",Ut,[l("div",Ft,u(e.formatNumber(e.metricThresholds.clues[0])),1),l("div",Vt,u(e.formatNumber(e.metricThresholds.clues[1])),1),l("div",It,u(e.formatNumber(e.metricThresholds.clues[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.cluesTotal,e.metricThresholds.clues)]),style:H({top:e.computePosition(e.cluesTotal,e.metricThresholds.clues)+"%"})},u(e.formatNumber(e.cluesTotal)),7)]),t[7]||(t[7]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/cluehard.png"}),l("img",{src:"/sprites/clueelite.png"})],-1))]),l("td",Ot,[l("div",Rt,[l("div",Bt,u(e.formatNumber(e.metricThresholds.smithing[0])),1),l("div",zt,u(e.formatNumber(e.metricThresholds.smithing[1])),1),l("div",Ht,u(e.formatNumber(e.metricThresholds.smithing[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.smithingGained,e.metricThresholds.smithing)]),style:H({top:e.computePosition(e.smithingGained,e.metricThresholds.smithing)+"%"})},u(e.formatNumber(e.smithingGained)),7)]),t[8]||(t[8]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/smithing.png"})],-1))])])])])]),_:1})}var qt=z(je,[["render",At],["__scopeId","data-v-6aaef330"]]);const Qt={name:"UpdatedCompetitionTable",setup(){m([]);const c=m([]),t=m(""),f=m(null),e=m(!1),p=m(!1),b=m(75869),a=m("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},g={low:"progress-low",medium:"progress-medium",high:"progress-high"},T=d=>d<50?g.none:d<300?g.low:d<600?g.medium:g.high,h=d=>d<1e6?`${(d/1e3).toFixed(4)}K`:`${(d/1e6).toFixed(2)}M`,y=d=>`${(d/1e6).toFixed(4)}M`,S=m([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),x=async()=>{p.value=!0;const d=new ue({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(b.value);a.value=r.title,c.value=r.participations.map(s=>{const _=s.player.exp||0,k=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:h(_),rawXp:_,lastChangedAt:be(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:k,rawGainedXP:k,progressGained:h(s.progress.gained),progressStart:h(s.progress.start),progressEnd:h(s.progress.end),levelsGained:h(s.levels.gained),levelsStart:h(s.levels.start),levelsEnd:h(s.levels.end),progressLevels:`Gained: ${h(s.progress.gained)}, Start: ${h(s.progress.start)}, End: ${h(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${y(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`${s.progress.start}`,totalEnd:`${s.progress.end}
            `,progressGainedClass:T(k),progressStartClass:T(s.progress.start),progressGainedClass:T(s.progress.gained),progressEndClass:T(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{p.value=!1}},P=pe(()=>{if(!t.value.trim())return;const d=c.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=c.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=c.value.splice(r,1);c.value.unshift(s),f.value=s.id,setTimeout(()=>f.value=null,2e3)}}else e.value=!0},300),V=Y(()=>t.value.trim()?c.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):c.value),I=d=>{b.value=d,x()};return le(x),{columns:S,filteredRows:V,searchQuery:t,highlightedId:f,debouncedSearch:P,playerNotFoundDialog:e,loading:p,updateCompetition:I,competitionTitle:a}}},Wt={class:"q-gutter-sm row items-center"},Xt=["innerHTML"],jt=["innerHTML"],Kt=["innerHTML"],Yt=["innerHTML"],Jt=["src","alt"];function Zt(c,t,f,e,p,b){return N(),F(j,null,{default:o(()=>[l("div",Wt,[n(de,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(Z,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(ae,null,{default:o(()=>[n(G,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(75869))},{default:o(()=>[n(L,null,{default:o(()=>t[7]||(t[7]=[E("Zilyana")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(68468))},{default:o(()=>[n(L,null,{default:o(()=>t[8]||(t[8]=[E("Duke")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(50451))},{default:o(()=>[n(L,null,{default:o(()=>t[9]||(t[9]=[E("Zulrah")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(46277))},{default:o(()=>[n(L,null,{default:o(()=>t[10]||(t[10]=[E("General Graardor")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(40782))},{default:o(()=>[n(L,null,{default:o(()=>t[11]||(t[11]=[E("Scurrius")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(U,{class:D(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,Xt)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,jt)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Kt)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,Yt)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(U,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,Jt)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(ce,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[6]||(t[6]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[12]||(t[12]=[E(" Player not found. Please try a different query. ")])),_:1}),n(te,{align:"right"},{default:o(()=>[ge(n(J,{flat:"",label:"Close"},null,512),[[me]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var $t=z(Qt,[["render",Zt]]);const ea={name:"BingoWrapper",components:{NewBingoTest:qt,BingoTable2:Qe}};function ta(c,t,f,e,p,b){const a=ie("NewBingoTest"),i=ie("BingoTable2");return N(),W("div",null,[n(a),n(i)])}var aa=z(ea,[["render",ta],["__scopeId","data-v-36b0257e"]]);const la={};function sa(c,t){return N(),W("div",null,t[0]||(t[0]=[ve('<h3 style="text-align:center;text-shadow:1px 1px black;"> Pet of the Month <br> February </h3><div style="text-align:center;text-shadow:1px 1px black;"><p> Venenatis <br> 10m </p><img class="potm-img" src="/potm/ven.png"></div><div style="text-align:center;text-shadow:1px 1px black;"><p> Squirrel <br> 10m </p><img class="potm-img" src="/potm/squirrel.png"></div>',3)]))}var oa=z(la,[["render",sa]]);const na={};function ra(c,t){return t[0]||(t[0]=ve('<div><h3 style="text-align:center;text-shadow:1px 1px black;">Hall of Fame</h3></div><div><h6 style="text-shadow:1px 1px black;">Skill of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1. Cooking - white646 <br> 2. Runecraft - zhwiggy <br> 3. Smithing - vantri<br> 4. Mining - vantri<br> 5. Slayer - Trois<br> 6. Hunter - January 2024 - 45.1m pot - XP winner Vairaq Lvl winner jdigga8 <br> 7 Ranged - February 2024 - 6.5m pot - XP and level winner: Vairaq<br> 8 Fletching - March 2024 - 52M pot. XP winner HopefulMitch Lvl winner donutrat<br> 9 Prayer - May 2024 - 61M pot. XP and Lvl winner zercaz <br> 10. Crafting (70m pot) - vantri <br> 11. Fishing (50m pot) - vantri <br> 12. Agility (48m pot) - Renxt &amp; Pigi Chops <br> 13. Construction (100m pot)- Venged Dh &amp; DarkMagkMage <br> 14. Farming - ongoing </div><div><h6 style="text-shadow:1px 1px black;">Boss of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1 Callisto - OG Leksa <br> 2 Dagannoth Prime - Canceled<br> 3 Duke of Sucellus - Canceled<br> 4 Scurrius March 2024 - Pot 60m - : jdigga8 <br> 5 BANDOS JUNE 2 - Baby Leah <br> 6 Zulrah - 3rdAgeLegend <br> 7 Duke - ishinigam1 <br> 8 Zilyana - zercaz<br></div><div><h6 style="text-shadow:1px 1px black;">Bingo Champions</h6></div><div style="text-shadow:1px 1px black;"> April 2024 - Winner: Team No Life <br> November 2024 - Winner: Team Jad Bods February 2025 - RNG vs RMF (Clan vs Clan) - ongoing </div>',7))}var ia=z(na,[["render",ra]]);const da={class:"q-gutter-md row justify-center",style:{"flex-wrap":"nowrap"}},ca={class:"q-mt-md"},ma={__name:"EventsPage",setup(c){const t=m([]),f={calendar:He,competitions:Ie,botw:$t,bingo:aa,potm:oa,hof:ia};function e(a){return t.value.some(i=>i.name===a)}function p(a){e(a)?b(a):t.value.push({name:a,component:f[a]})}function b(a){t.value=t.value.filter(i=>i.name!==a)}return(a,i)=>(N(),F(j,{class:"q-pa-md"},{default:o(()=>[l("div",da,[n(Q,{label:"Calendar",tooltip:"Calendar",icon:"/icons/calendarbook.png",animationClass:"animate__fadeInDown",buttonClass:"leagues-style",active:e("calendar"),onClick:i[0]||(i[0]=g=>p("calendar"))},null,8,["active"]),n(Q,{label:"Skill of the Week",tooltip:"Skill of the Week",icon:"/icons/ARTSNEW.png",animationClass:"animate__zoomIn",buttonClass:"wild-style",active:e("competitions"),onClick:i[1]||(i[1]=g=>p("competitions"))},null,8,["active"]),n(Q,{label:"Boss of the Week",tooltip:"Boss of the Week",icon:"/icons/pvm.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("botw"),onClick:i[2]||(i[2]=g=>p("botw"))},null,8,["active"]),n(Q,{label:"Pet of the Month",tooltip:"Pet of the Month",icon:"/potm/squirrel.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("potm"),onClick:i[3]||(i[3]=g=>p("potm"))},null,8,["active"]),n(Q,{label:"Bingo Table",tooltip:"Bingo",icon:"/icons/minigamesIcon.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("bingo"),onClick:i[4]||(i[4]=g=>p("bingo"))},null,8,["active"]),n(Q,{label:"Hall of Fame",tooltip:"Hall of Fame",icon:"/icons/trophy.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("hof"),onClick:i[5]||(i[5]=g=>p("hof"))},null,8,["active"])]),i[6]||(i[6]=l("div",null,[l("p",{style:{"text-align":"center","text-shadow":"1px 1px black"}}," Please note that our OSRS trackers use data from the open-source Wise Old Man project; there may be errors due to server delays. ")],-1)),l("div",ca,[(N(!0),W(se,null,oe(t.value,g=>(N(),F($,{key:g.name,class:"q-mb-md"},{default:o(()=>[n(ee,null,{default:o(()=>[(N(),F(Ee(g.component)))]),_:2},1024),n(te,{align:"right"},{default:o(()=>[n(J,{flat:"",glossy:"",label:"Close",color:"negative",onClick:T=>b(g.name)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1}))}};var _a=z(ma,[["__scopeId","data-v-4a10309d"]]);export{Qe as B,Ie as C,_a as E,qt as N};
