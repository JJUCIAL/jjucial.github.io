import{j as ce,k as Z,l as K,m as U,n as me,g as $,b as ee,c as te,C as ue,i as j,W as he,o as we,p as Ce,q as Te,r as xe,P as ge,s as ke}from"./EventsPage.vue_vue_type_style_index_0_scoped_true_lang.e6e8e5b4.js";import{Q as J}from"./QBtn.c84c92de.js";import{_ as z,A as ae,Q as G,p as L,w as De,x as Se}from"./QImg.6474c189.js";import{r as m,f as Y,p as le,G as N,N as I,L as o,I as l,K as n,J as E,R as D,z as fe,H as X,U as se,T as oe,M as u,O as ve,w as Ee,at as re,au as A,S as ie,av as be,aw as Ne}from"./index.db319cea.js";import{d as pe,f as _e}from"./debounce.69c2195f.js";const Pe={name:"UpdatedCompetitionTable",setup(){m([]);const c=m([]),t=m(""),f=m(null),e=m(!1),b=m(!1),p=m(78623),a=m("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},g={low:"progress-low",medium:"progress-medium",high:"progress-high"},T=d=>d<1e6?g.none:d<5e6?g.low:d<1e7?g.medium:g.high,h=d=>d<1e6?`${(d/1e3).toFixed(2)}K`:`${(d/1e6).toFixed(2)}M`,y=d=>`${(d/1e6).toFixed(2)}M`,S=m([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),x=async()=>{b.value=!0;const d=new he({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(p.value);a.value=r.title,c.value=r.participations.map(s=>{const _=s.player.exp||0,k=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:h(_),rawXp:_,lastChangedAt:_e(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:h(k),rawGainedXP:k,progressGained:h(s.progress.gained),progressStart:h(s.progress.start),progressEnd:h(s.progress.end),levelsGained:h(s.levels.gained),levelsStart:h(s.levels.start),levelsEnd:h(s.levels.end),progressLevels:`Gained: ${h(s.progress.gained)}, Start: ${h(s.progress.start)}, End: ${h(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${y(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`EXP: ${y(s.progress.start)} <br /> LVLS: ${s.levels.start}`,totalEnd:`EXP: ${y(s.progress.end)} <br /> LVLS: ${s.levels.end}`,progressGainedClass:T(k),progressStartClass:T(s.progress.start),progressGainedClass:T(s.progress.gained),progressEndClass:T(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{b.value=!1}},P=pe(()=>{if(!t.value.trim())return;const d=c.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=c.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=c.value.splice(r,1);c.value.unshift(s),f.value=s.id,setTimeout(()=>f.value=null,2e3)}}else e.value=!0},300),F=Y(()=>t.value.trim()?c.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):c.value),V=d=>{p.value=d,x()};return le(x),{columns:S,filteredRows:F,searchQuery:t,highlightedId:f,debouncedSearch:P,playerNotFoundDialog:e,loading:b,updateCompetition:V,competitionTitle:a}}},Ge={class:"q-gutter-sm row items-center"},Le=["innerHTML"],Me=["innerHTML"],Ue=["innerHTML"],Ie=["innerHTML"],Fe=["src","alt"];function Ve(c,t,f,e,b,p){return N(),I(j,null,{default:o(()=>[l("div",Ge,[n(ce,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(Z,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(ae,null,{default:o(()=>[n(G,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(78623))},{default:o(()=>[n(L,null,{default:o(()=>t[9]||(t[9]=[E("Farming")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(71017))},{default:o(()=>[n(L,null,{default:o(()=>t[10]||(t[10]=[E("Construction")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(65875))},{default:o(()=>[n(L,null,{default:o(()=>t[11]||(t[11]=[E("Agility")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(58100))},{default:o(()=>[n(L,null,{default:o(()=>t[12]||(t[12]=[E("Fishing")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(48025))},{default:o(()=>[n(L,null,{default:o(()=>t[13]||(t[13]=[E("Crafting")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[6]||(t[6]=a=>e.updateCompetition(44571))},{default:o(()=>[n(L,null,{default:o(()=>t[14]||(t[14]=[E("Prayer")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[7]||(t[7]=a=>e.updateCompetition(39755))},{default:o(()=>[n(L,null,{default:o(()=>t[15]||(t[15]=[E("Fletching")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(U,{class:D(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,Le)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,Me)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Ue)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,Ie)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(U,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,Fe)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(me,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[8]||(t[8]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[16]||(t[16]=[E(" Player not found. Please try a different query. ")])),_:1}),n(te,{align:"right"},{default:o(()=>[fe(n(J,{flat:"",label:"Close"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Oe=z(Pe,[["render",Ve]]);const Be={setup(){const c=h=>{const y=h.getUTCFullYear(),S=String(h.getUTCMonth()+1).padStart(2,"0"),x=String(h.getUTCDate()).padStart(2,"0");return`${y}/${S}/${x}`},t=(h,y)=>{const S=[];let x=new Date(h);for(;x<=y;)S.push(c(x)),x.setUTCDate(x.getUTCDate()+1);return S},f=h=>{const y=p.value[h];return y?y.color||"white":null},p=m((h=>{const y={};return Object.keys(h).forEach(S=>{const{rangeEnd:x,...P}=h[S];t(new Date(S),new Date(x||S)).forEach(V=>{y[V]={...P}})}),y})({"2024/12/06":{rangeEnd:"2025/01/22",title:"Leagues V: Raging Echoes",description:"Leagues V: Raging Echoes is a temporary game mode in Old School RuneScape (OSRS) that will begin November 27, 2024.",image:"/homepage/leagues/virtus.png",color:"info"},"2024/12/31":{rangeEnd:"2024/12/31",title:"New Year's Rumble",description:"1.5B in prizes, hunters vs. hunted in PVP world at 3pm EST!",image:"/homepage/bonanza.png",color:"primary"},"2025/01/19":{rangeEnd:"2025/01/26",title:"GROUP BOSS OF THE WEEK - ZILY ",description:"BOTW will be a group competition and buyin phase will be January 12th - Jan 18th.",image:"/calendar/zily.png",color:"negative"},"2025/02/01":{rangeEnd:"2025/02/01",title:"Fashionscape Fiesta",description:"Congratulations to the winners! We plan to throw more fashionscape events in the future, perhaps with different themes?!",image:"/homepage/fashionfeb/lineup2.png",color:"pink"},"2025/02/16":{rangeEnd:"2025/03/02",title:"Skill of the Week - Farming",description:"PAYOUT TOP 3 XP / THRESHOLDS",image:"/calendar/toollep.png",color:"light-green"},"2025/03/23":{rangeEnd:"2025/03/30",title:"Skill of the Week - Magic",description:"PAYOUT TOP 3 XP / THRESHOLDS",image:"/calendar/magic.png",color:"blue-14"}})),a=[{startDate:new Date(Date.UTC(2024,11,6)),endDate:new Date(Date.UTC(2025,0,22))},{startDate:new Date(Date.UTC(2024,11,31)),endDate:new Date(Date.UTC(2024,11,31))},{startDate:new Date(Date.UTC(2025,0,19)),endDate:new Date(Date.UTC(2025,0,26))},{startDate:new Date(Date.UTC(2025,1,1)),endDate:new Date(Date.UTC(2025,1,1))},{startDate:new Date(Date.UTC(2025,1,16)),endDate:new Date(Date.UTC(2025,2,2))},{startDate:new Date(Date.UTC(2025,2,23)),endDate:new Date(Date.UTC(2025,2,30))}],g=m((h=>{const y=new Set;return h.forEach(({startDate:S,endDate:x})=>{t(S,x).forEach(P=>y.add(P))}),Array.from(y).sort()})(a)),T=c(new Date);return g.value.push(T),{splitterModel:m(50),date:m(T),events:g,eventDetails:p,getEventColor:f}}},Re={class:"q-pa-md"},ze={class:"text-h4 q-mb-md"};function Ae(c,t,f,e,b,p){return N(),X("div",null,[n(xe,{modelValue:e.splitterModel,"onUpdate:modelValue":t[2]||(t[2]=a=>e.splitterModel=a),style:{height:"450px"}},{before:o(()=>[l("div",Re,[n(we,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=a=>e.date=a),events:e.events,"event-color":e.getEventColor},null,8,["modelValue","events","event-color"])])]),after:o(()=>[n(Ce,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=a=>e.date=a),animated:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:o(()=>[(N(!0),X(se,null,oe(e.events,a=>(N(),I(Te,{key:a,name:a},{default:o(()=>{var i,g,T;return[l("div",ze,u(((i=e.eventDetails[a])==null?void 0:i.title)||"No Event Scheduled"),1),l("p",null,u(((g=e.eventDetails[a])==null?void 0:g.description)||"No details available, please check out other planned events by viewing dates that are highlighted on the calendar."),1),(T=e.eventDetails[a])!=null&&T.image?(N(),I(De,{key:0,src:e.eventDetails[a].image,alt:"Event Image",style:{"max-width":"100%","max-height":"200px"}},null,8,["src"])):ve("",!0)]}),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}var de=z(Be,[["render",Ae],["__scopeId","data-v-183ad881"]]);const He={name:"TeamLeaderboard",setup(){const c=m([]),t=m(!0),f=m({}),e="ag5idzcxq01s1yoocwth0llc",b={low:"progress-low",medium:"progress-medium",high:"progress-high"},p=r=>r<5e5?b.low:r<2e6?b.medium:b.high,a=m([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"team",label:"Team",align:"left",field:"team",sortable:!0},{name:"lastUpdated",label:"Last Updated",align:"center",field:"lastUpdated",sortable:!0}]),i=["clue_scrolls_hard","slayer","tombs_of_amascut","tombs_of_amascut_expert","zalcano","smithing","hitpoints","clue_scrolls_elite","thieving","agility","runecrafting"],g={},T=5*60*1e3,h=r=>new Promise(s=>setTimeout(s,r)),y=async(r,s={},_=3,k=1e3)=>{try{const w=await fetch(r,s);if(!w.ok)if(w.status===429||w.status>=500&&w.status<600){if(_>0)return console.warn(`Request failed with status ${w.status}. Retrying in ${k}ms...`),await h(k),y(r,s,_-1,k*2);throw new Error(`Request failed with status ${w.status} after retries.`)}else throw new Error(`Request failed with status ${w.status}.`);return w}catch(w){if(_>0)return console.warn(`Fetch error: ${w.message}. Retrying in ${k}ms...`),await h(k),y(r,s,_-1,k*2);throw w}},S=async r=>{const s=`https://api.wiseoldman.net/v2/competitions/68296/csv?metric=${r}`,_=r,k=Date.now();if(g[_]&&k-g[_].timestamp<T)return console.log(`Using cached data for metric: ${r}`),g[_].data;const M=await(await y(s,{headers:{Authorization:`Bearer ${e}`}})).text();return g[_]={timestamp:k,data:M},M},x=async()=>{t.value=!0;try{const r={};f.value={};for(const s of i)try{const _=await S(s);ge.parse(_,{header:!0,skipEmptyLines:!0}).data.forEach(w=>{const M=w.Username,H=w.Team||"Unknown",q=parseInt(w.Gained)||0;r[M]||(r[M]={id:M,username:M,team:H,rank:parseInt(w.Rank),lastUpdated:w["Last Updated"]}),r[M][s]=q,r[M][`${s}Formatted`]=F(q),r[M][`${s}Class`]=p(q),f.value[H]||(f.value[H]={}),f.value[H][s]=(f.value[H][s]||0)+q}),a.value.find(w=>w.name===s)||a.value.push({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase()),align:"right",field:s,sortable:!0})}catch(_){console.error(`Error fetching metric ${s}:`,_)}c.value=Object.values(r)}catch(r){console.error("Error fetching metrics:",r)}finally{t.value=!1}},P=r=>new Intl.NumberFormat().format(r),F=r=>r>0?`+${P(r)}`:P(r),V=Y(()=>Object.entries(f.value).map(([r,s])=>({team:r,...s,...Object.fromEntries(Object.keys(s).map(_=>[`${_}Formatted`,F(s[_])]))}))),d=Y(()=>{const r=Object.keys(f.value).length?Object.keys(f.value[Object.keys(f.value)[0]]||{}).map(s=>({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase()),align:"right",field:s,sortable:!0})):[];return[{name:"team",label:"Team",align:"left",field:"team",sortable:!0},...r]});return le(x),{tableData:c,columns:a,loading:t,formatNumber:P,teamsGained:f,teamTableData:V,teamColumns:d}}};function We(c,t,f,e,b,p){return N(),I(j,null,{default:o(()=>[n(K,{rows:e.tableData,columns:e.columns,"row-key":"username",loading:e.loading,"rows-per-page-options":[5,10,20,-1],class:"team-table",title:"Player Stats"},{"body-cell":o(({row:a,col:i})=>[n(U,{class:D(a[`${i.name}Class`])},{default:o(()=>[E(u(i.name==="rank"||i.name==="username"||i.name==="team"||i.name==="lastUpdated"?a[i.field]:a[`${i.name}Formatted`]||e.formatNumber(a[i.field]||0)),1)]),_:2},1032,["class"])]),_:1},8,["rows","columns","loading"]),Object.keys(e.teamsGained).length?(N(),I(K,{key:0,rows:e.teamTableData,columns:e.teamColumns,"row-key":"team",class:"team-table",title:"Team Stats"},{"body-cell":o(({row:a,col:i})=>[n(U,null,{default:o(()=>[E(u(i.name==="team"?a.team:a[`${i.name}Formatted`]||e.formatNumber(a[i.name]||0)),1)]),_:2},1024)]),_:1},8,["rows","columns"])):ve("",!0)]),_:1})}var Qe=z(He,[["render",We],["__scopeId","data-v-d9253876"]]);const Xe=["src","alt"],qe={__name:"EventButton",props:{label:{type:String,required:!0},tooltip:{type:String,required:!0},icon:{type:String,required:!0},animationClass:{type:String,required:!0},buttonClass:{type:String,default:""},active:{type:Boolean,default:!1}},emits:["click"],setup(c,{emit:t}){const f=c,e=t,b=m(null);function p(i,g){i.classList.remove(g),i.offsetWidth,i.classList.add(g)}Ee(()=>f.active,i=>{i&&b.value&&p(b.value,f.animationClass)});function a(){e("click")}return(i,g)=>(N(),I(J,{glossy:"",dense:"",stack:"",label:c.label,color:c.active?"primary":"secondary",class:D([c.buttonClass,c.active?c.animationClass:""]),onClick:a},{default:o(()=>[n(Se,null,{default:o(()=>[E(u(c.tooltip),1)]),_:1}),l("img",{ref_key:"iconRef",ref:b,class:D(["event-icon",c.active?c.animationClass:""]),src:c.icon,alt:c.label},null,10,Xe)]),_:1},8,["label","color","class"]))}};var Q=z(qe,[["__scopeId","data-v-61fd6b16"]]);const je={setup(){const c="ag5idzcxq01s1yoocwth0llc",t=new Map,f=async(v,O={},B=5,R=1e3)=>{try{const C=await fetch(v,O);if(C.status===429)throw new Error("Rate limit exceeded");if(!C.ok)throw new Error(`HTTP error! Status: ${C.status}`);return C}catch(C){if(B>0)return console.warn(`Request failed: ${C.message}. Retrying in ${R}ms...`),await new Promise(W=>setTimeout(W,R)),f(v,O,B-1,R*2);throw C}},e=async(v,O={},B=5,R=1e3)=>{if(t.has(v))return console.log("Using cached data for",v),t.get(v);const W=await(await f(v,O,B,R)).text();return t.set(v,W),W},b=[{slug:"Team+Stolen+Gun",display:"Team Stolen Gun"},{slug:"Team+NOKOMIS",display:"Team NOKOMIS"},{slug:"Team+ren+vvs",display:"Team ren vvs"}],p=m(null),a=m(0),i=m(0),g=m(0),T=m(0),h=m(0),y=m(0),S=m(0),x=m(0),P=m(0),F=m(0),V=m(0),d=m(0),r=m(0);re(()=>{d.value=Number(g.value)+Number(T.value),r.value=Number(a.value)+Number(i.value)});const s=m(!0),_=m(3e4),k=v=>{if(!s.value){alert("Please wait 30 seconds before selecting a new team.");return}p.value=v,s.value=!1,setTimeout(()=>{s.value=!0},_.value)},w=["clue_scrolls_hard","clue_scrolls_elite","slayer","tombs_of_amascut","tombs_of_amascut_expert","hitpoints","thieving","agility","runecrafting","zalcano","smithing"],M=ke.exports.throttle(async()=>{if(!!p.value)try{await Promise.all(w.map(async v=>{const O=`https://api.wiseoldman.net/v2/competitions/68296/csv?table=team&teamName=${p.value.slug}&metric=${v}`,B=await e(O,{headers:{Authorization:`Bearer ${c}`}}),C=ge.parse(B,{header:!0,skipEmptyLines:!0}).data.reduce((W,ye)=>{const ne=Number(ye.Gained);return W+(isNaN(ne)?0:ne)},0);v==="agility"&&(S.value=C),v==="slayer"&&(x.value=C),v==="clue_scrolls_hard"&&(a.value=C),v==="clue_scrolls_elite"&&(i.value=C),v==="tombs_of_amascut"&&(g.value=C),v==="tombs_of_amascut_expert"&&(T.value=C),v==="hitpoints"&&(h.value=C),v==="thieving"&&(y.value=C),v==="runecrafting"&&(P.value=C),v==="zalcano"&&(F.value=C),v==="smithing"&&(V.value=C)}))}catch(v){console.error("Error fetching data:",v)}},5e3);return re(()=>{p.value&&M()}),{delayTimer:_,teams:b,selectedTeam:p,updateSelectedTeam:k,agilityGained:S,clueScrollEliteGained:i,clueScrollHardGained:a,toaGained:g,toaExpertGained:T,hitpointsGained:h,thievingGained:y,runecraftingGained:P,zalcanoGained:F,smithingGained:V,slayerGained:x,toaTotal:d,cluesTotal:r,computePosition:(v,O)=>{const[B,,R]=O;let C=(v-B)/(R-B)*100;return Math.max(0,Math.min(100,C))},getThresholdClass:(v,O)=>{const[B,R,C]=O;return v<R?"progress-low":v<C?"progress-medium":"progress-high"},metricThresholds:{agility:[5e5,2e6,5e6],slayer:[1e6,5e6,1e7],runecrafting:[5e5,2e6,4e6],thieving:[25e5,5e6,1e7],hitpoints:[15e5,3e6,6e6],clues:[150,300,600],tombs:[150,500,1e3],zalcano:[250,500,1e3],smithing:[5e5,2e6,4e6]},formatNumber:v=>new Intl.NumberFormat().format(v)}}},Ke={class:"q-gutter-sm row items-center"},Ye={class:"stats-container"},Je={class:"stats-table"},Ze={class:"stats-cell"},$e={class:"progress-cell"},et={class:"threshold-label threshold-low"},tt={class:"threshold-label threshold-medium"},at={class:"threshold-label threshold-high"},lt={class:"stats-cell"},st={class:"progress-cell"},ot={class:"threshold-label threshold-low"},nt={class:"threshold-label threshold-medium"},rt={class:"threshold-label threshold-high"},it={class:"stats-cell"},dt={class:"progress-cell"},ct={class:"threshold-label threshold-low"},mt={class:"threshold-label threshold-medium"},ut={class:"threshold-label threshold-high"},ht={class:"stats-cell"},gt={class:"progress-cell"},ft={class:"threshold-label threshold-low"},vt={class:"threshold-label threshold-medium"},bt={class:"threshold-label threshold-high"},pt={class:"stats-cell"},_t={class:"progress-cell"},yt={class:"threshold-label threshold-low"},wt={class:"threshold-label threshold-medium"},Ct={class:"threshold-label threshold-high"},Tt={class:"stats-cell"},xt={class:"progress-cell"},kt={class:"threshold-label threshold-low"},Dt={class:"threshold-label threshold-medium"},St={class:"threshold-label threshold-high"},Et={class:"stats-cell"},Nt={class:"progress-cell"},Pt={class:"threshold-label threshold-low"},Gt={class:"threshold-label threshold-medium"},Lt={class:"threshold-label threshold-high"},Mt={class:"stats-cell"},Ut={class:"progress-cell"},It={class:"threshold-label threshold-low"},Ft={class:"threshold-label threshold-medium"},Vt={class:"threshold-label threshold-high"},Ot={class:"stats-cell"},Bt={class:"progress-cell"},Rt={class:"threshold-label threshold-low"},zt={class:"threshold-label threshold-medium"},At={class:"threshold-label threshold-high"};function Ht(c,t,f,e,b,p){return N(),I(j,{class:"page-container"},{default:o(()=>[l("div",Ke,[n(Z,{size:"xl",glossy:"",ripple:"",flat:"","text-color":"purple-7",outline:"",label:e.selectedTeam?e.selectedTeam.display:"Please select a Team",class:"col-auto","no-caps":""},{default:o(()=>[n(ae,null,{default:o(()=>[(N(!0),X(se,null,oe(e.teams,a=>(N(),I(G,{key:a.slug,clickable:"",onClick:i=>e.updateSelectedTeam(a)},{default:o(()=>[n(L,null,{default:o(()=>[E(u(a.display),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["label"])]),t[9]||(t[9]=l("p",{style:{"text-shadow":"1px 1px 1px black"}}," Please give the tables a few seconds to to load; it uses wiseoldman to fetch live data! ",-1)),l("div",Ye,[l("table",Je,[l("tr",null,[l("td",Ze,[l("div",$e,[l("div",et,u(e.formatNumber(e.metricThresholds.agility[0])),1),l("div",tt,u(e.formatNumber(e.metricThresholds.agility[1])),1),l("div",at,u(e.formatNumber(e.metricThresholds.agility[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.agilityGained,e.metricThresholds.agility)]),style:A({top:e.computePosition(e.agilityGained,e.metricThresholds.agility)+"%"})},u(e.formatNumber(e.agilityGained)),7)]),t[0]||(t[0]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/agility.png"})],-1))]),l("td",lt,[l("div",st,[l("div",ot,u(e.formatNumber(e.metricThresholds.slayer[0])),1),l("div",nt,u(e.formatNumber(e.metricThresholds.slayer[1])),1),l("div",rt,u(e.formatNumber(e.metricThresholds.slayer[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.slayerGained,e.metricThresholds.slayer)]),style:A({top:e.computePosition(e.slayerGained,e.metricThresholds.slayer)+"%"})},u(e.formatNumber(e.slayerGained)),7)]),t[1]||(t[1]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/slayer.png"})],-1))]),l("td",it,[l("div",dt,[l("div",ct,u(e.formatNumber(e.metricThresholds.runecrafting[0])),1),l("div",mt,u(e.formatNumber(e.metricThresholds.runecrafting[1])),1),l("div",ut,u(e.formatNumber(e.metricThresholds.runecrafting[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.runecraftingGained,e.metricThresholds.runecrafting)]),style:A({top:e.computePosition(e.runecraftingGained,e.metricThresholds.runecrafting)+"%"})},u(e.formatNumber(e.runecraftingGained)),7)]),t[2]||(t[2]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/runecraft.png"})],-1))])]),l("tr",null,[l("td",ht,[l("div",gt,[l("div",ft,u(e.formatNumber(e.metricThresholds.thieving[0])),1),l("div",vt,u(e.formatNumber(e.metricThresholds.thieving[1])),1),l("div",bt,u(e.formatNumber(e.metricThresholds.thieving[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.thievingGained,e.metricThresholds.thieving)]),style:A({top:e.computePosition(e.thievingGained,e.metricThresholds.thieving)+"%"})},u(e.formatNumber(e.thievingGained)),7)]),t[3]||(t[3]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/thieving.png"})],-1))]),l("td",pt,[l("div",_t,[l("div",yt,u(e.formatNumber(e.metricThresholds.tombs[0])),1),l("div",wt,u(e.formatNumber(e.metricThresholds.tombs[1])),1),l("div",Ct,u(e.formatNumber(e.metricThresholds.tombs[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.toaTotal,e.metricThresholds.tombs)]),style:A({top:e.computePosition(e.toaTotal,e.metricThresholds.tombs)+"%"})},u(e.formatNumber(e.toaTotal)),7)]),t[4]||(t[4]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/toa.png"}),l("img",{src:"/sprites/toaexpert.png"})],-1))]),l("td",Tt,[l("div",xt,[l("div",kt,u(e.formatNumber(e.metricThresholds.zalcano[0])),1),l("div",Dt,u(e.formatNumber(e.metricThresholds.zalcano[1])),1),l("div",St,u(e.formatNumber(e.metricThresholds.zalcano[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.zalcanoGained,e.metricThresholds.zalcano)]),style:A({top:e.computePosition(e.zalcanoGained,e.metricThresholds.zalcano)+"%"})},u(e.formatNumber(e.zalcanoGained)),7)]),t[5]||(t[5]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/zalcano.png"})],-1))])]),l("tr",null,[l("td",Et,[l("div",Nt,[l("div",Pt,u(e.formatNumber(e.metricThresholds.hitpoints[0])),1),l("div",Gt,u(e.formatNumber(e.metricThresholds.hitpoints[1])),1),l("div",Lt,u(e.formatNumber(e.metricThresholds.hitpoints[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.hitpointsGained,e.metricThresholds.hitpoints)]),style:A({top:e.computePosition(e.hitpointsGained,e.metricThresholds.hitpoints)+"%"})},u(e.formatNumber(e.hitpointsGained)),7)]),t[6]||(t[6]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/hitpoints.png"})],-1))]),l("td",Mt,[l("div",Ut,[l("div",It,u(e.formatNumber(e.metricThresholds.clues[0])),1),l("div",Ft,u(e.formatNumber(e.metricThresholds.clues[1])),1),l("div",Vt,u(e.formatNumber(e.metricThresholds.clues[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.cluesTotal,e.metricThresholds.clues)]),style:A({top:e.computePosition(e.cluesTotal,e.metricThresholds.clues)+"%"})},u(e.formatNumber(e.cluesTotal)),7)]),t[7]||(t[7]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/cluehard.png"}),l("img",{src:"/sprites/clueelite.png"})],-1))]),l("td",Ot,[l("div",Bt,[l("div",Rt,u(e.formatNumber(e.metricThresholds.smithing[0])),1),l("div",zt,u(e.formatNumber(e.metricThresholds.smithing[1])),1),l("div",At,u(e.formatNumber(e.metricThresholds.smithing[2])),1),l("div",{class:D(["current-value",e.getThresholdClass(e.smithingGained,e.metricThresholds.smithing)]),style:A({top:e.computePosition(e.smithingGained,e.metricThresholds.smithing)+"%"})},u(e.formatNumber(e.smithingGained)),7)]),t[8]||(t[8]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/smithing.png"})],-1))])])])])]),_:1})}var Wt=z(je,[["render",Ht],["__scopeId","data-v-6aaef330"]]);const Qt={name:"UpdatedCompetitionTable",setup(){m([]);const c=m([]),t=m(""),f=m(null),e=m(!1),b=m(!1),p=m(75869),a=m("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},g={low:"progress-low",medium:"progress-medium",high:"progress-high"},T=d=>d<50?g.none:d<300?g.low:d<600?g.medium:g.high,h=d=>d<1e6?`${(d/1e3).toFixed(4)}K`:`${(d/1e6).toFixed(2)}M`,y=d=>`${(d/1e6).toFixed(4)}M`,S=m([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),x=async()=>{b.value=!0;const d=new he({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(p.value);a.value=r.title,c.value=r.participations.map(s=>{const _=s.player.exp||0,k=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:h(_),rawXp:_,lastChangedAt:_e(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:k,rawGainedXP:k,progressGained:h(s.progress.gained),progressStart:h(s.progress.start),progressEnd:h(s.progress.end),levelsGained:h(s.levels.gained),levelsStart:h(s.levels.start),levelsEnd:h(s.levels.end),progressLevels:`Gained: ${h(s.progress.gained)}, Start: ${h(s.progress.start)}, End: ${h(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${y(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`${s.progress.start}`,totalEnd:`${s.progress.end}
            `,progressGainedClass:T(k),progressStartClass:T(s.progress.start),progressGainedClass:T(s.progress.gained),progressEndClass:T(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{b.value=!1}},P=pe(()=>{if(!t.value.trim())return;const d=c.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=c.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=c.value.splice(r,1);c.value.unshift(s),f.value=s.id,setTimeout(()=>f.value=null,2e3)}}else e.value=!0},300),F=Y(()=>t.value.trim()?c.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):c.value),V=d=>{p.value=d,x()};return le(x),{columns:S,filteredRows:F,searchQuery:t,highlightedId:f,debouncedSearch:P,playerNotFoundDialog:e,loading:b,updateCompetition:V,competitionTitle:a}}},Xt={class:"q-gutter-sm row items-center"},qt=["innerHTML"],jt=["innerHTML"],Kt=["innerHTML"],Yt=["innerHTML"],Jt=["src","alt"];function Zt(c,t,f,e,b,p){return N(),I(j,null,{default:o(()=>[l("div",Xt,[n(ce,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(Z,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(ae,null,{default:o(()=>[n(G,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(75869))},{default:o(()=>[n(L,null,{default:o(()=>t[7]||(t[7]=[E("Zilyana")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(68468))},{default:o(()=>[n(L,null,{default:o(()=>t[8]||(t[8]=[E("Duke")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(50451))},{default:o(()=>[n(L,null,{default:o(()=>t[9]||(t[9]=[E("Zulrah")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(46277))},{default:o(()=>[n(L,null,{default:o(()=>t[10]||(t[10]=[E("General Graardor")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(40782))},{default:o(()=>[n(L,null,{default:o(()=>t[11]||(t[11]=[E("Scurrius")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(U,{class:D(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,qt)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,jt)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Kt)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(U,{class:D(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,Yt)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(U,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,Jt)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(me,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[6]||(t[6]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[12]||(t[12]=[E(" Player not found. Please try a different query. ")])),_:1}),n(te,{align:"right"},{default:o(()=>[fe(n(J,{flat:"",label:"Close"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var $t=z(Qt,[["render",Zt]]);const ea={name:"BingoWrapper",components:{NewBingoTest:Wt,BingoTable2:Qe}};function ta(c,t,f,e,b,p){const a=ie("NewBingoTest"),i=ie("BingoTable2");return N(),X("div",null,[n(a),n(i)])}var aa=z(ea,[["render",ta],["__scopeId","data-v-36b0257e"]]);const la={};function sa(c,t){return N(),X("div",null,t[0]||(t[0]=[be('<h3 style="text-align:center;text-shadow:1px 1px black;"> Pet of the Month <br> March </h3><div style="text-align:center;text-shadow:1px 1px black;"><p> Callisto Cub <br> 10m </p><img class="potm-img" src="/potm/cub.png"></div><div style="text-align:center;text-shadow:1px 1px black;"><p> Rift Guardian <br> 10m </p><img class="potm-img" src="/potm/rift.png"></div>',3)]))}var oa=z(la,[["render",sa]]);const na={};function ra(c,t){return t[0]||(t[0]=be('<div><h3 style="text-align:center;text-shadow:1px 1px black;">Hall of Fame</h3></div><div><h6 style="text-shadow:1px 1px black;">Skill of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1. Cooking - white646 <br> 2. Runecraft - zhwiggy <br> 3. Smithing - vantri<br> 4. Mining - vantri<br> 5. Slayer - Trois<br> 6. Hunter - January 2024 - 45.1m pot - XP winner Vairaq Lvl winner jdigga8 <br> 7 Ranged - February 2024 - 6.5m pot - XP and level winner: Vairaq<br> 8 Fletching - March 2024 - 52M pot. XP winner HopefulMitch Lvl winner donutrat<br> 9 Prayer - May 2024 - 61M pot. XP and Lvl winner zercaz <br> 10. Crafting (70m pot) - vantri <br> 11. Fishing (50m pot) - vantri <br> 12. Agility (48m pot) - Renxt &amp; Pigi Chops <br> 13. Construction (100m pot)- Venged Dh &amp; DarkMagkMage <br> 14. Farming - 1st place all3survivor, 2nd Yurik36, 3rd Vantri110 </div><div><h6 style="text-shadow:1px 1px black;">Boss of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1 Callisto - OG Leksa <br> 2 Dagannoth Prime - Canceled<br> 3 Duke of Sucellus - Canceled<br> 4 Scurrius March 2024 - Pot 60m - : jdigga8 <br> 5 BANDOS JUNE 2 - Baby Leah <br> 6 Zulrah - 3rdAgeLegend <br> 7 Duke - ishinigam1 <br> 8 Zilyana - zercaz<br></div><div><h6 style="text-shadow:1px 1px black;">Bingo Champions</h6></div><div style="text-shadow:1px 1px black;"> April 2024 - Winner: Team No Life <br> November 2024 - Winner: Team Jad Bods <br> February 2025 - RNG vs RMF (Clan vs Clan) - ongoing </div><div><h6 style="text-shadow:1px 1px black;"> Clan Benefactors (Sugar Daddies/Mommies) </h6></div><div style="text-shadow:1px 1px black;"> Icecream Man - ~2B<br> Hopeful Mitch - ~1.5b <br> Stolen Gun - ~1b<br> Baby Leah - ~1b <br> Fortunate1 - ~550m <br> OG Echelon - ~150m <br> Tahenrick - ~50m <br> 1x47 - 50m <br> WalkinTaco22 - ~35m <br> Shitdick - ~50m<br> Ass Clincher - 25m<br> Mr Walton - 10m <br> Omni Whisper - Server Booster <br> Captain Shell - 20m <br><sub>(Currently building this list. If you do not see yourself or if the amount listed is incorrect please reach out and correct us so it can be accurately modified. This was a new idea and I&#39;m trying to track and recognize ALL donators. TIA)</sub></div>',9))}var ia=z(na,[["render",ra]]);const da={class:"q-gutter-md row justify-center",style:{"flex-wrap":"nowrap"}},ca={class:"q-mt-md"},ma={__name:"EventsPage",setup(c){const t=m([{name:"calendar",component:de}]),f={calendar:de,competitions:Oe,botw:$t,bingo:aa,potm:oa,hof:ia};function e(a){return t.value.some(i=>i.name===a)}function b(a){e(a)?p(a):t.value.push({name:a,component:f[a]})}function p(a){t.value=t.value.filter(i=>i.name!==a)}return(a,i)=>(N(),I(j,{class:"q-pa-md"},{default:o(()=>[l("div",da,[n(Q,{label:"Calendar",tooltip:"Calendar",icon:"/icons/calendarbook.png",animationClass:"animate__fadeInDown",buttonClass:"leagues-style",active:e("calendar"),onClick:i[0]||(i[0]=g=>b("calendar"))},null,8,["active"]),n(Q,{label:"Skill of the Week",tooltip:"Skill of the Week",icon:"/icons/ARTSNEW.png",animationClass:"animate__zoomIn",buttonClass:"wild-style",active:e("competitions"),onClick:i[1]||(i[1]=g=>b("competitions"))},null,8,["active"]),n(Q,{label:"Boss of the Week",tooltip:"Boss of the Week",icon:"/icons/pvm.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("botw"),onClick:i[2]||(i[2]=g=>b("botw"))},null,8,["active"]),n(Q,{label:"Pet of the Month",tooltip:"Pet of the Month",icon:"/potm/rift.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("potm"),onClick:i[3]||(i[3]=g=>b("potm"))},null,8,["active"]),n(Q,{label:"Bingo Table",tooltip:"Bingo",icon:"/icons/minigamesIcon.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("bingo"),onClick:i[4]||(i[4]=g=>b("bingo"))},null,8,["active"]),n(Q,{label:"Hall of Fame",tooltip:"Hall of Fame",icon:"/icons/trophy.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("hof"),onClick:i[5]||(i[5]=g=>b("hof"))},null,8,["active"])]),i[6]||(i[6]=l("div",null,[l("p",{style:{"text-align":"center","text-shadow":"1px 1px black"}},[l("sub",null,"Note: Our trackers use Wise Old Man; there may be errors due to hiscore update delays.")])],-1)),l("div",ca,[(N(!0),X(se,null,oe(t.value,g=>(N(),I($,{key:g.name,class:"q-mb-md"},{default:o(()=>[n(ee,null,{default:o(()=>[(N(),I(Ne(g.component)))]),_:2},1024),n(te,{align:"right"},{default:o(()=>[n(J,{flat:"",glossy:"",label:"Close",color:"negative",onClick:T=>p(g.name)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1}))}};var _a=z(ma,[["__scopeId","data-v-29181be4"]]);export{Qe as B,Oe as C,_a as E,Wt as N};
