import{_ as T,z,w as R}from"./QImg.55f0a45b.js";import{Q as L,a as q,W as H,S as K,b as F,c as J,d as X,e as Z,f as Y,g as ee,h as Q,i as U,j as D,P as te,u as ae,k as se}from"./EventsPage.vue_vue_type_style_index_0_scoped_true_lang.1bc1895a.js";import{r as f,G as p,H as h,K as a,L as m,I as l,M as w,N as E,U as M,T as j,z as oe,J as N,ac as ne,S as re,f as P,p as ie,R as le,O as G,w as ce,a1 as de}from"./index.bfb0d258.js";import{L as me}from"./LadyLuckGallery.f1125f6d.js";import{Q as ue}from"./QBtn.17e996f6.js";import{C as pe,E as ge,N as he}from"./EventsPage.643ff8ac.js";import{O as fe,P as ve,a as _e}from"./PlayerActivity.62b5d9c2.js";import"./pinia.12201a53.js";import"./debounce.0895440a.js";const ye={setup(){const y=f("first"),e=f(!1),n=f(null),i=f(null),c=f(0),g=t=>t<1e6?`${(t/1e3).toFixed(2)}K`:`${(t/1e9).toFixed(3)}B`;return(async()=>{e.value=!0;const t=new H({apiKey:"ag5idzcxq01s1yoocwth0llc",userAgent:"dopesyc"});console.log("API Key:","ag5idzcxq01s1yoocwth0llc"),console.log("Client initialized:",t);try{const S=(await t.groups.getGroupHiscores(6847,K.OVERALL)).reduce((k,B)=>k+(B.player.exp||0),0);c.value=g(S);const x=await t.groups.getGroupDetails(6847);n.value=x.memberCount,i.value=x}catch(b){console.error("Failed to fetch group data:",b)}finally{e.value=!1}})(),{slide:y,loading:e,memberCount:n,totalGroupXp:c,overallGroup:i,autoplay:f(!0)}}},be={class:"q-pa-md"},we={class:"absolute-bottom custom-caption"},xe={class:"text-h2"},ke={class:"absolute-bottom custom-caption"},Ce={class:"text-h2"};function Le(y,e,n,i,c,g){return p(),h("div",be,[a(q,{arrows:"",animated:"",infinite:"",autoplay:i.autoplay,modelValue:i.slide,"onUpdate:modelValue":e[0]||(e[0]=o=>i.slide=o),height:"100px",onMouseenter:e[1]||(e[1]=o=>i.autoplay=!1),onMouseleave:e[2]||(e[2]=o=>i.autoplay=!0)},{default:m(()=>[a(L,{name:"first","img-src":"/gallery/massive1.png"},{default:m(()=>[l("div",we,[l("div",xe,w(i.memberCount),1),e[3]||(e[3]=l("div",{class:"text-subtitle1"},"Active Members",-1))])]),_:1}),a(L,{name:"second","img-src":"/homepage/fishing1.png"},{default:m(()=>[l("div",ke,[l("div",Ce,w(i.totalGroupXp),1),e[4]||(e[4]=l("div",{class:"text-subtitle1"},"Collective Clan EXP",-1))])]),_:1}),a(L,{name:"third","img-src":"/gallery/drop1.png"},{default:m(()=>e[5]||(e[5]=[l("div",{class:"absolute-bottom custom-caption"},[l("div",{class:"text-h2"},"7.45B GP"),l("div",{class:"text-subtitle1"},"Donated / Dropped / Awarded")],-1)])),_:1}),a(L,{name:"fourth","img-src":"/homepage/Wilderness_Obelisk.png"},{default:m(()=>e[6]||(e[6]=[l("div",{class:"absolute-bottom custom-caption"},[l("div",{class:"text-h2"},"5.1B GP"),l("div",{class:"text-subtitle1"},"Lost in the Wilderness")],-1)])),_:1})]),_:1},8,["autoplay","modelValue"])])}var Ee=T(ye,[["render",Le],["__scopeId","data-v-97f4dcc6"]]);const Te={name:"EventCard",props:{images:{type:Array,required:!0},overline:{type:String,default:"Overline"},title:{type:String,required:!0},description:{type:String,required:!0},extraContent:{type:String,default:""}},data(){return{slide:0,autoplay:!0,expanded:!1}},methods:{toggleExpanded(){this.expanded=!this.expanded},share(){console.log("Share clicked for",this.title)},book(){console.log("Book clicked for",this.title)}}},$e={class:"text-overline text-orange-9"},Se={class:"text-h5 q-mt-sm q-mb-xs"},Be={class:"text-caption text-grey"};function Oe(y,e,n,i,c,g){return p(),E(ee,{class:"my-card",flat:"",bordered:""},{default:m(()=>[a(q,{animated:"",modelValue:c.slide,"onUpdate:modelValue":e[0]||(e[0]=o=>c.slide=o),navigation:"",infinite:"",autoplay:c.autoplay,arrows:"","transition-prev":"slide-right","transition-next":"slide-left",onMouseenter:e[1]||(e[1]=o=>c.autoplay=!1),onMouseleave:e[2]||(e[2]=o=>c.autoplay=!0)},{default:m(()=>[(p(!0),h(M,null,j(n.images,(o,t)=>(p(),E(L,{key:t,name:t,"img-src":o},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","autoplay"]),a(F,null,{default:m(()=>[l("div",$e,w(n.overline),1),l("div",Se,w(n.title),1),l("div",Be,w(n.description),1)]),_:1}),a(J,null,{default:m(()=>[a(X),a(ue,{color:"grey",round:"",flat:"",dense:"",icon:c.expanded?"keyboard_arrow_up":"keyboard_arrow_down",onClick:g.toggleExpanded},null,8,["icon","onClick"])]),_:1}),a(Z,null,{default:m(()=>[oe(l("div",null,[a(Y),a(F,{class:"text-subtitle2"},{default:m(()=>[N(w(n.extraContent),1)]),_:1})],512),[[ne,c.expanded]])]),_:1})]),_:1})}var Re=T(Te,[["render",Oe],["__scopeId","data-v-45da0316"]]);const Ne={name:"EventList",components:{EventCard:Re},data(){return{events:[{images:["/homepage/fashionfeb/lineup2.png","/homepage/fashionfeb/finals.png"],overline:"Feb 1 2025",title:"Fashionscape Fiesta",description:"Lords of RNG Fashionscape Fiesta!",extraContent:"Congratulations to the winners! We plan to throw more fashionscape events in the future, perhaps with different themes?!"},{images:["/homepage/dec31/zhwigmax.jpg","/homepage/dec31/99party1.png","/homepage/dec31/99party2.png","/homepage/dec31/rumble1.png"],overline:"Dec 29 /2024 - Jan 1 /2025",title:"Holiday Festivities",description:"Zhwiggy's Max Party, Group 99s Party & NEW YEARS RUMBLE",extraContent:"Congratulations to Zhwiggy for maxing, and everyone who recently got a 99 at the major 99 event! Also gz to anyone who got some killer loot from the drop party!"},{images:["/homepage/leagues/venator.png","/homepage/leagues/poh1.png","/homepage/leagues/ahrims.png","/homepage/leagues/banner.png","/homepage/leagues/contact.png","/homepage/leagues/death.png","/homepage/leagues/hometele.png","/homepage/leagues/outfit.png","/homepage/leagues/pool.png","/homepage/leagues/spirit.png","/homepage/leagues/virtus.png"],overline:"Nov 27 /2024 - Jan 22 /2025",title:"Leagues V: Raging Echoes",description:"Leagues V: Raging Echoes is a temporary game mode ",extraContent:"The rewards for Leagues V: Raging Echoes include:  - Raging Echoes Outfit - Three tiers of cosmetic armor representing the league      - Raging Echoes Banner - Cosmetic weapon to display participation in the league      - Raging Echoes Home Teleport ",shareLink:"https://example.com/share/new-years-rumble",bookLink:"https://example.com/events/new-years-rumble"},{images:["/homepage/con-cape.png"],overline:"Nov 17 - 24 /2024",title:"Skill of the Week - Construction",description:"13 CONSTRUCTION (100m pot) Winners @Venged Dh & @DarkMagkMage ",extraContent:"https://wiseoldman.net/competitions/71017",shareLink:"https://example.com/share/new-years-rumble",bookLink:"https://example.com/events/new-years-rumble"},{images:["/homepage/ritual1.png","/homepage/ritual2.png","/homepage/ritual3.png"],overline:"Oct 18 - Nov 1 /2024",title:"Bingo",description:"November 2024 - Winner: Team Jad Bods",extraContent:"After a vicious 2 week grind it's finally over. Everyone started day one super aggressively and kept the momentum. RNG decided a lot of the game-winning tiles. Thank you everyone for participating and please dont hesitate to give your feedback about what you liked or didn't like, what you think could be improved for next time, etc. The Wise-Old-Man tracker was priceless despite the initial bugs that were discovered when generating the live-tables. Perhaps our next major event can be more long-term with smaller teams that will potentially only use the tracker versus a combination of screenshots like we did for codeword: Jeopardy69 and Oryx.",shareLink:"https://example.com/share/new-years-rumble",bookLink:"https://example.com/events/new-years-rumble"}]}}},Pe={class:"q-pa-md row items-center justify-center q-gutter-md"};function Ge(y,e,n,i,c,g){const o=re("EventCard");return p(),h("div",Pe,[(p(!0),h(M,null,j(c.events,(t,b)=>(p(),E(o,{key:b,images:t.images,overline:t.overline,title:t.title,description:t.description,extraContent:t.extraContent,shareLink:t.shareLink,bookLink:t.bookLink},null,8,["images","overline","title","description","extraContent","shareLink","bookLink"]))),128))])}var Ve=T(Ne,[["render",Ge],["__scopeId","data-v-60e9733e"]]);const Fe={name:"TeamLeaderboard",setup(){const y=f([]),e=f(!0),n=f({}),i="ag5idzcxq01s1yoocwth0llc",c={low:"progress-low",medium:"progress-medium",high:"progress-high"},g=s=>s<5e5?c.low:s<2e6?c.medium:c.high,o=f([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"team",label:"Team",align:"left",field:"team",sortable:!0},{name:"lastUpdated",label:"Last Updated",align:"center",field:"lastUpdated",sortable:!0}]),t=["clue_scrolls_hard","slayer","tombs_of_amascut","tombs_of_amascut_expert","zalcano","smithing","hitpoints","clue_scrolls_elite","thieving","agility","runecrafting"],b={},S=5*60*1e3,x=s=>new Promise(r=>setTimeout(r,s)),k=async(s,r={},u=3,v=1e3)=>{try{const d=await fetch(s,r);if(!d.ok)if(d.status===429||d.status>=500&&d.status<600){if(u>0)return console.warn(`Request failed with status ${d.status}. Retrying in ${v}ms...`),await x(v),k(s,r,u-1,v*2);throw new Error(`Request failed with status ${d.status} after retries.`)}else throw new Error(`Request failed with status ${d.status}.`);return d}catch(d){if(u>0)return console.warn(`Fetch error: ${d.message}. Retrying in ${v}ms...`),await x(v),k(s,r,u-1,v*2);throw d}},B=async s=>{const r=`https://api.wiseoldman.net/v2/competitions/68296/csv?metric=${s}`,u=s,v=Date.now();if(b[u]&&v-b[u].timestamp<S)return console.log(`Using cached data for metric: ${s}`),b[u].data;const _=await(await k(r,{headers:{Authorization:`Bearer ${i}`}})).text();return b[u]={timestamp:v,data:_},_},I=async()=>{e.value=!0;try{const s={};n.value={};for(const r of t)try{const u=await B(r);te.parse(u,{header:!0,skipEmptyLines:!0}).data.forEach(d=>{const _=d.Username,C=d.Team||"Unknown",$=parseInt(d.Gained)||0;s[_]||(s[_]={id:_,username:_,team:C,rank:parseInt(d.Rank),lastUpdated:d["Last Updated"]}),s[_][r]=$,s[_][`${r}Formatted`]=V($),s[_][`${r}Class`]=g($),n.value[C]||(n.value[C]={}),n.value[C][r]=(n.value[C][r]||0)+$}),o.value.find(d=>d.name===r)||o.value.push({name:r,label:r.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()),align:"right",field:r,sortable:!0})}catch(u){console.error(`Error fetching metric ${r}:`,u)}y.value=Object.values(s)}catch(s){console.error("Error fetching metrics:",s)}finally{e.value=!1}},O=s=>new Intl.NumberFormat().format(s),V=s=>s>0?`+${O(s)}`:O(s),A=P(()=>Object.entries(n.value).map(([s,r])=>({team:s,...r,...Object.fromEntries(Object.keys(r).map(u=>[`${u}Formatted`,V(r[u])]))}))),W=P(()=>{const s=Object.keys(n.value).length?Object.keys(n.value[Object.keys(n.value)[0]]||{}).map(r=>({name:r,label:r.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase()),align:"right",field:r,sortable:!0})):[];return[{name:"team",label:"Team",align:"left",field:"team",sortable:!0},...s]});return ie(I),{tableData:y,columns:o,loading:e,formatNumber:O,teamsGained:n,teamTableData:A,teamColumns:W}}};function Qe(y,e,n,i,c,g){return p(),E(D,null,{default:m(()=>[a(Q,{rows:i.tableData,columns:i.columns,"row-key":"username",loading:i.loading,"rows-per-page-options":[5,10,20,-1],class:"team-table",title:"Player Stats"},{"body-cell":m(({row:o,col:t})=>[a(U,{class:le(o[`${t.name}Class`])},{default:m(()=>[N(w(t.name==="rank"||t.name==="username"||t.name==="team"||t.name==="lastUpdated"?o[t.field]:o[`${t.name}Formatted`]||i.formatNumber(o[t.field]||0)),1)]),_:2},1032,["class"])]),_:1},8,["rows","columns","loading"]),Object.keys(i.teamsGained).length?(p(),E(Q,{key:0,rows:i.teamTableData,columns:i.teamColumns,"row-key":"team",class:"team-table",title:"Team Stats"},{"body-cell":m(({row:o,col:t})=>[a(U,null,{default:m(()=>[N(w(t.name==="team"?o.team:o[`${t.name}Formatted`]||i.formatNumber(o[t.name]||0)),1)]),_:2},1024)]),_:1},8,["rows","columns"])):G("",!0)]),_:1})}var Ue=T(Fe,[["render",Qe],["__scopeId","data-v-d9253876"]]);const qe={class:"page-wrapper"},De={class:"center-container"},Me={class:"top-scroll"},je={class:"mid-scroll"},Ie={class:"table-container"},Ae={key:0},We={key:1},ze={key:2},He={key:3},Ke={key:4},Je={key:5},Xe={class:"bottom-scroll"},Ze=Object.assign({name:"IndexPage"},{__name:"HomePage",setup(y){const e=z(),n=P(()=>e.activeButton);ae().addressbarColor.set("#a2e3fa");const c=f(!1);return ce(()=>n.value,g=>{g==="tiddi"?c.value=!0:c.value=!1}),(g,o)=>(p(),h("div",qe,[l("div",De,[a(se,{style:{width:"100%","max-width":"650px",margin:"auto"}},{default:m(()=>[a(D,{class:"top-scroll-container"},{default:m(()=>[l("div",Me,[a(R,{src:"/tiddi3.png"})]),l("div",je,[l("div",Ie,[n.value==="minigames"?(p(),h("div",Ae,[a(pe),o[0]||(o[0]=l("p",{style:{"text-align":"center","text-shadow":"2px 2px 4px rgba(0, 0, 0, 0.5)"}}," Dynamic BOTW table coming soon ",-1))])):n.value==="leagues"?(p(),h("div",We,[a(ge)])):n.value==="witch"?(p(),h("div",ze,[a(fe),a(ve),a(_e)])):n.value==="bingo"?(p(),h("div",He,[o[1]||(o[1]=l("h4",{style:{"text-align":"center","text-shadow":"1px 1px 1px black"}}," Lords of RNG Bingo ",-1)),a(he),a(Ue)])):G("",!0),c.value?(p(),h("div",Ke,[a(me),a(de,{name:"bounce"},{default:m(()=>[a(R,{src:"/LordsofRNG_Mascot.png",class:"bounce-loop"})]),_:1})])):n.value==="home"?(p(),h("div",Je,[a(Ee),a(Ve)])):G("",!0)])]),l("div",Xe,[a(R,{src:"/bottom.gif"})])]),_:1})]),_:1})])]))}});var lt=T(Ze,[["__scopeId","data-v-32721816"]]);export{lt as default};
