import{_ as U,a5 as ye,a6 as we,a7 as Ce,a8 as Te,x as ke,a9 as xe,B as J,l as G,n as P,C as $,D as ee,y as Ne}from"./CalendarApp.vue_vue_type_style_index_0_lang.614bd81d.js";import{d as Y}from"./QBtn.d19387a1.js";import{g as ce,h as te,i as K,j as E,d as me,b as ae,C as ue,f as j,W as he,P as ge,l as Ge}from"./EventsPage.vue_vue_type_style_index_0_scoped_true_lang.7328950c.js";import{r as u,K as N,L as q,O as n,P as o,M as l,Z as le,Y as se,R as M,Q as m,S as fe,f as Z,p as oe,N as x,V as T,z as ve,w as Pe,av as re,aw as A,X as ie,W as Se,ax as Le}from"./index.1d3e2d51.js";import{u as Ee,P as Me}from"./useCalendarData.2b037317.js";import{d as be,f as pe}from"./debounce.932b8303.js";const De={setup(){const{eventDetails:c,events:t,getEventColor:g,formatDate:e}=Ee(),f=u(53),p=e(new Date),a=u(p);return{splitterModel:f,date:a,events:t,eventDetails:c,getEventColor:g,today:p}}},Ie={class:"q-pa-md"},Ve={class:"text-h4 q-mb-md"};function Fe(c,t,g,e,f,p){return N(),q("div",null,[n(xe,{modelValue:e.splitterModel,"onUpdate:modelValue":t[2]||(t[2]=a=>e.splitterModel=a),style:{height:"450px"}},{before:o(()=>[l("div",Ie,[n(ye,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=a=>e.date=a),events:e.events,"event-color":e.getEventColor},null,8,["modelValue","events","event-color"])])]),separator:o(()=>[n(we,{draggable:"false",color:"secondary","text-color":"white",size:"40px",icon:"img:/icons/witch16.png"})]),after:o(()=>[n(Ce,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=a=>e.date=a),animated:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:o(()=>[(N(!0),q(le,null,se(e.events,a=>(N(),M(Te,{key:a,name:a},{default:o(()=>{var i,h,k;return[l("div",Ve,m(((i=e.eventDetails[a])==null?void 0:i.title)||"No Event Scheduled"),1),l("p",null,m(((h=e.eventDetails[a])==null?void 0:h.description)||"No details available. Please check out other planned events by viewing dates that are highlighted on the calendar."),1),(k=e.eventDetails[a])!=null&&k.image?(N(),M(ke,{key:0,src:e.eventDetails[a].image,alt:"Event Image",style:{"max-width":"100%","max-height":"200px"}},null,8,["src"])):fe("",!0)]}),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}var de=U(De,[["render",Fe]]);const Be={name:"UpdatedCompetitionTable",setup(){u([]);const c=u([]),t=u(""),g=u(null),e=u(!1),f=u(!1),p=u(78623),a=u("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},h={low:"progress-low",medium:"progress-medium",high:"progress-high"},k=d=>d<1e6?h.none:d<5e6?h.low:d<1e7?h.medium:h.high,b=d=>d<1e6?`${(d/1e3).toFixed(2)}K`:`${(d/1e6).toFixed(2)}M`,S=d=>`${(d/1e6).toFixed(2)}M`,O=u([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),D=async()=>{f.value=!0;const d=new he({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(p.value);a.value=r.title,c.value=r.participations.map(s=>{const _=s.player.exp||0,C=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:b(_),rawXp:_,lastChangedAt:pe(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:b(C),rawGainedXP:C,progressGained:b(s.progress.gained),progressStart:b(s.progress.start),progressEnd:b(s.progress.end),levelsGained:b(s.levels.gained),levelsStart:b(s.levels.start),levelsEnd:b(s.levels.end),progressLevels:`Gained: ${b(s.progress.gained)}, Start: ${b(s.progress.start)}, End: ${b(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${S(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`EXP: ${S(s.progress.start)} <br /> LVLS: ${s.levels.start}`,totalEnd:`EXP: ${S(s.progress.end)} <br /> LVLS: ${s.levels.end}`,progressGainedClass:k(C),progressStartClass:k(s.progress.start),progressGainedClass:k(s.progress.gained),progressEndClass:k(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{f.value=!1}},I=be(()=>{if(!t.value.trim())return;const d=c.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=c.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=c.value.splice(r,1);c.value.unshift(s),g.value=s.id,setTimeout(()=>g.value=null,2e3)}}else e.value=!0},300),z=Z(()=>t.value.trim()?c.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):c.value),Q=d=>{p.value=d,D()};return oe(D),{columns:O,filteredRows:z,searchQuery:t,highlightedId:g,debouncedSearch:I,playerNotFoundDialog:e,loading:f,updateCompetition:Q,competitionTitle:a}}},ze={class:"q-gutter-sm row items-center"},Ae=["innerHTML"],Ue=["innerHTML"],Oe=["innerHTML"],Qe=["innerHTML"],Re=["src","alt"];function He(c,t,g,e,f,p){return N(),M(j,null,{default:o(()=>[l("div",ze,[n(ce,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(te,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(J,null,{default:o(()=>[n(G,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(78623))},{default:o(()=>[n(P,null,{default:o(()=>t[9]||(t[9]=[x("Farming")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(71017))},{default:o(()=>[n(P,null,{default:o(()=>t[10]||(t[10]=[x("Construction")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(65875))},{default:o(()=>[n(P,null,{default:o(()=>t[11]||(t[11]=[x("Agility")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(58100))},{default:o(()=>[n(P,null,{default:o(()=>t[12]||(t[12]=[x("Fishing")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(48025))},{default:o(()=>[n(P,null,{default:o(()=>t[13]||(t[13]=[x("Crafting")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[6]||(t[6]=a=>e.updateCompetition(44571))},{default:o(()=>[n(P,null,{default:o(()=>t[14]||(t[14]=[x("Prayer")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[7]||(t[7]=a=>e.updateCompetition(39755))},{default:o(()=>[n(P,null,{default:o(()=>t[15]||(t[15]=[x("Fletching")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(E,{class:T(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,Ae)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(E,{class:T(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,Ue)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(E,{class:T(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Oe)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(E,{class:T(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,Qe)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(E,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,Re)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(me,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[8]||(t[8]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[16]||(t[16]=[x(" Player not found. Please try a different query. ")])),_:1}),n(ae,{align:"right"},{default:o(()=>[ve(n(Y,{flat:"",label:"Close"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var We=U(Be,[["render",He]]);const Xe={name:"TeamLeaderboard",setup(){const c=u([]),t=u(!0),g=u({}),e="ag5idzcxq01s1yoocwth0llc",f={low:"progress-low",medium:"progress-medium",high:"progress-high"},p=r=>r<5e5?f.low:r<2e6?f.medium:f.high,a=u([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"team",label:"Team",align:"left",field:"team",sortable:!0},{name:"lastUpdated",label:"Last Updated",align:"center",field:"lastUpdated",sortable:!0}]),i=["clue_scrolls_hard","slayer","tombs_of_amascut","tombs_of_amascut_expert","zalcano","smithing","hitpoints","clue_scrolls_elite","thieving","agility","runecrafting"],h={},k=5*60*1e3,b=r=>new Promise(s=>setTimeout(s,r)),S=async(r,s={},_=3,C=1e3)=>{try{const y=await fetch(r,s);if(!y.ok)if(y.status===429||y.status>=500&&y.status<600){if(_>0)return console.warn(`Request failed with status ${y.status}. Retrying in ${C}ms...`),await b(C),S(r,s,_-1,C*2);throw new Error(`Request failed with status ${y.status} after retries.`)}else throw new Error(`Request failed with status ${y.status}.`);return y}catch(y){if(_>0)return console.warn(`Fetch error: ${y.message}. Retrying in ${C}ms...`),await b(C),S(r,s,_-1,C*2);throw y}},O=async r=>{const s=`https://api.wiseoldman.net/v2/competitions/68296/csv?metric=${r}`,_=r,C=Date.now();if(h[_]&&C-h[_].timestamp<k)return console.log(`Using cached data for metric: ${r}`),h[_].data;const L=await(await S(s,{headers:{Authorization:`Bearer ${e}`}})).text();return h[_]={timestamp:C,data:L},L},D=async()=>{t.value=!0;try{const r={};g.value={};for(const s of i)try{const _=await O(s);ge.parse(_,{header:!0,skipEmptyLines:!0}).data.forEach(y=>{const L=y.Username,R=y.Team||"Unknown",X=parseInt(y.Gained)||0;r[L]||(r[L]={id:L,username:L,team:R,rank:parseInt(y.Rank),lastUpdated:y["Last Updated"]}),r[L][s]=X,r[L][`${s}Formatted`]=z(X),r[L][`${s}Class`]=p(X),g.value[R]||(g.value[R]={}),g.value[R][s]=(g.value[R][s]||0)+X}),a.value.find(y=>y.name===s)||a.value.push({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase()),align:"right",field:s,sortable:!0})}catch(_){console.error(`Error fetching metric ${s}:`,_)}c.value=Object.values(r)}catch(r){console.error("Error fetching metrics:",r)}finally{t.value=!1}},I=r=>new Intl.NumberFormat().format(r),z=r=>r>0?`+${I(r)}`:I(r),Q=Z(()=>Object.entries(g.value).map(([r,s])=>({team:r,...s,...Object.fromEntries(Object.keys(s).map(_=>[`${_}Formatted`,z(s[_])]))}))),d=Z(()=>{const r=Object.keys(g.value).length?Object.keys(g.value[Object.keys(g.value)[0]]||{}).map(s=>({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase()),align:"right",field:s,sortable:!0})):[];return[{name:"team",label:"Team",align:"left",field:"team",sortable:!0},...r]});return oe(D),{tableData:c,columns:a,loading:t,formatNumber:I,teamsGained:g,teamTableData:Q,teamColumns:d}}};function qe(c,t,g,e,f,p){return N(),M(j,null,{default:o(()=>[n(K,{rows:e.tableData,columns:e.columns,"row-key":"username",loading:e.loading,"rows-per-page-options":[5,10,20,-1],class:"team-table",title:"Player Stats"},{"body-cell":o(({row:a,col:i})=>[n(E,{class:T(a[`${i.name}Class`])},{default:o(()=>[x(m(i.name==="rank"||i.name==="username"||i.name==="team"||i.name==="lastUpdated"?a[i.field]:a[`${i.name}Formatted`]||e.formatNumber(a[i.field]||0)),1)]),_:2},1032,["class"])]),_:1},8,["rows","columns","loading"]),Object.keys(e.teamsGained).length?(N(),M(K,{key:0,rows:e.teamTableData,columns:e.teamColumns,"row-key":"team",class:"team-table",title:"Team Stats"},{"body-cell":o(({row:a,col:i})=>[n(E,null,{default:o(()=>[x(m(i.name==="team"?a.team:a[`${i.name}Formatted`]||e.formatNumber(a[i.name]||0)),1)]),_:2},1024)]),_:1},8,["rows","columns"])):fe("",!0)]),_:1})}var je=U(Xe,[["render",qe],["__scopeId","data-v-d9253876"]]);const Ke=["src","alt"],Ze={__name:"EventButton",props:{label:{type:String,required:!0},tooltip:{type:String,required:!0},icon:{type:String,required:!0},animationClass:{type:String,required:!0},buttonClass:{type:String,default:""},active:{type:Boolean,default:!1}},emits:["click"],setup(c,{emit:t}){const g=c,e=t,f=u(null);function p(i,h){i.classList.remove(h),i.offsetWidth,i.classList.add(h)}Pe(()=>g.active,i=>{i&&f.value&&p(f.value,g.animationClass)});function a(){e("click")}return(i,h)=>(N(),M(Y,{glossy:"",dense:"",stack:"",label:c.label,color:c.active?"primary":"secondary",class:T([c.buttonClass,c.active?c.animationClass:""]),onClick:a},{default:o(()=>[n(Ne,null,{default:o(()=>[x(m(c.tooltip),1)]),_:1}),l("img",{ref_key:"iconRef",ref:f,class:T(["event-icon",c.active?c.animationClass:""]),src:c.icon,alt:c.label},null,10,Ke)]),_:1},8,["label","color","class"]))}};var W=U(Ze,[["__scopeId","data-v-61fd6b16"]]);const Ye={setup(){const c="ag5idzcxq01s1yoocwth0llc",t=new Map,g=async(v,V={},F=5,B=1e3)=>{try{const w=await fetch(v,V);if(w.status===429)throw new Error("Rate limit exceeded");if(!w.ok)throw new Error(`HTTP error! Status: ${w.status}`);return w}catch(w){if(F>0)return console.warn(`Request failed: ${w.message}. Retrying in ${B}ms...`),await new Promise(H=>setTimeout(H,B)),g(v,V,F-1,B*2);throw w}},e=async(v,V={},F=5,B=1e3)=>{if(t.has(v))return console.log("Using cached data for",v),t.get(v);const H=await(await g(v,V,F,B)).text();return t.set(v,H),H},f=[{slug:"Team+Stolen+Gun",display:"Team Stolen Gun"},{slug:"Team+NOKOMIS",display:"Team NOKOMIS"},{slug:"Team+ren+vvs",display:"Team ren vvs"}],p=u(null),a=u(0),i=u(0),h=u(0),k=u(0),b=u(0),S=u(0),O=u(0),D=u(0),I=u(0),z=u(0),Q=u(0),d=u(0),r=u(0);re(()=>{d.value=Number(h.value)+Number(k.value),r.value=Number(a.value)+Number(i.value)});const s=u(!0),_=u(3e4),C=v=>{if(!s.value){alert("Please wait 30 seconds before selecting a new team.");return}p.value=v,s.value=!1,setTimeout(()=>{s.value=!0},_.value)},y=["clue_scrolls_hard","clue_scrolls_elite","slayer","tombs_of_amascut","tombs_of_amascut_expert","hitpoints","thieving","agility","runecrafting","zalcano","smithing"],L=Ge.exports.throttle(async()=>{if(!!p.value)try{await Promise.all(y.map(async v=>{const V=`https://api.wiseoldman.net/v2/competitions/68296/csv?table=team&teamName=${p.value.slug}&metric=${v}`,F=await e(V,{headers:{Authorization:`Bearer ${c}`}}),w=ge.parse(F,{header:!0,skipEmptyLines:!0}).data.reduce((H,_e)=>{const ne=Number(_e.Gained);return H+(isNaN(ne)?0:ne)},0);v==="agility"&&(O.value=w),v==="slayer"&&(D.value=w),v==="clue_scrolls_hard"&&(a.value=w),v==="clue_scrolls_elite"&&(i.value=w),v==="tombs_of_amascut"&&(h.value=w),v==="tombs_of_amascut_expert"&&(k.value=w),v==="hitpoints"&&(b.value=w),v==="thieving"&&(S.value=w),v==="runecrafting"&&(I.value=w),v==="zalcano"&&(z.value=w),v==="smithing"&&(Q.value=w)}))}catch(v){console.error("Error fetching data:",v)}},5e3);return re(()=>{p.value&&L()}),{delayTimer:_,teams:f,selectedTeam:p,updateSelectedTeam:C,agilityGained:O,clueScrollEliteGained:i,clueScrollHardGained:a,toaGained:h,toaExpertGained:k,hitpointsGained:b,thievingGained:S,runecraftingGained:I,zalcanoGained:z,smithingGained:Q,slayerGained:D,toaTotal:d,cluesTotal:r,computePosition:(v,V)=>{const[F,,B]=V;let w=(v-F)/(B-F)*100;return Math.max(0,Math.min(100,w))},getThresholdClass:(v,V)=>{const[F,B,w]=V;return v<B?"progress-low":v<w?"progress-medium":"progress-high"},metricThresholds:{agility:[5e5,2e6,5e6],slayer:[1e6,5e6,1e7],runecrafting:[5e5,2e6,4e6],thieving:[25e5,5e6,1e7],hitpoints:[15e5,3e6,6e6],clues:[150,300,600],tombs:[150,500,1e3],zalcano:[250,500,1e3],smithing:[5e5,2e6,4e6]},formatNumber:v=>new Intl.NumberFormat().format(v)}}},Je={class:"q-gutter-sm row items-center"},$e={class:"stats-container"},et={class:"stats-table"},tt={class:"stats-cell"},at={class:"progress-cell"},lt={class:"threshold-label threshold-low"},st={class:"threshold-label threshold-medium"},ot={class:"threshold-label threshold-high"},nt={class:"stats-cell"},rt={class:"progress-cell"},it={class:"threshold-label threshold-low"},dt={class:"threshold-label threshold-medium"},ct={class:"threshold-label threshold-high"},mt={class:"stats-cell"},ut={class:"progress-cell"},ht={class:"threshold-label threshold-low"},gt={class:"threshold-label threshold-medium"},ft={class:"threshold-label threshold-high"},vt={class:"stats-cell"},bt={class:"progress-cell"},pt={class:"threshold-label threshold-low"},_t={class:"threshold-label threshold-medium"},yt={class:"threshold-label threshold-high"},wt={class:"stats-cell"},Ct={class:"progress-cell"},Tt={class:"threshold-label threshold-low"},kt={class:"threshold-label threshold-medium"},xt={class:"threshold-label threshold-high"},Nt={class:"stats-cell"},Gt={class:"progress-cell"},Pt={class:"threshold-label threshold-low"},St={class:"threshold-label threshold-medium"},Lt={class:"threshold-label threshold-high"},Et={class:"stats-cell"},Mt={class:"progress-cell"},Dt={class:"threshold-label threshold-low"},It={class:"threshold-label threshold-medium"},Vt={class:"threshold-label threshold-high"},Ft={class:"stats-cell"},Bt={class:"progress-cell"},zt={class:"threshold-label threshold-low"},At={class:"threshold-label threshold-medium"},Ut={class:"threshold-label threshold-high"},Ot={class:"stats-cell"},Qt={class:"progress-cell"},Rt={class:"threshold-label threshold-low"},Ht={class:"threshold-label threshold-medium"},Wt={class:"threshold-label threshold-high"};function Xt(c,t,g,e,f,p){return N(),M(j,{class:"page-container"},{default:o(()=>[l("div",Je,[n(te,{size:"xl",glossy:"",ripple:"",flat:"","text-color":"purple-7",outline:"",label:e.selectedTeam?e.selectedTeam.display:"Please select a Team",class:"col-auto","no-caps":""},{default:o(()=>[n(J,null,{default:o(()=>[(N(!0),q(le,null,se(e.teams,a=>(N(),M(G,{key:a.slug,clickable:"",onClick:i=>e.updateSelectedTeam(a)},{default:o(()=>[n(P,null,{default:o(()=>[x(m(a.display),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["label"])]),t[9]||(t[9]=l("p",{style:{"text-shadow":"1px 1px 1px black"}}," Please give the tables a few seconds to to load; it uses wiseoldman to fetch live data! ",-1)),l("div",$e,[l("table",et,[l("tr",null,[l("td",tt,[l("div",at,[l("div",lt,m(e.formatNumber(e.metricThresholds.agility[0])),1),l("div",st,m(e.formatNumber(e.metricThresholds.agility[1])),1),l("div",ot,m(e.formatNumber(e.metricThresholds.agility[2])),1),l("div",{class:T(["current-value",e.getThresholdClass(e.agilityGained,e.metricThresholds.agility)]),style:A({top:e.computePosition(e.agilityGained,e.metricThresholds.agility)+"%"})},m(e.formatNumber(e.agilityGained)),7)]),t[0]||(t[0]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/agility.png"})],-1))]),l("td",nt,[l("div",rt,[l("div",it,m(e.formatNumber(e.metricThresholds.slayer[0])),1),l("div",dt,m(e.formatNumber(e.metricThresholds.slayer[1])),1),l("div",ct,m(e.formatNumber(e.metricThresholds.slayer[2])),1),l("div",{class:T(["current-value",e.getThresholdClass(e.slayerGained,e.metricThresholds.slayer)]),style:A({top:e.computePosition(e.slayerGained,e.metricThresholds.slayer)+"%"})},m(e.formatNumber(e.slayerGained)),7)]),t[1]||(t[1]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/slayer.png"})],-1))]),l("td",mt,[l("div",ut,[l("div",ht,m(e.formatNumber(e.metricThresholds.runecrafting[0])),1),l("div",gt,m(e.formatNumber(e.metricThresholds.runecrafting[1])),1),l("div",ft,m(e.formatNumber(e.metricThresholds.runecrafting[2])),1),l("div",{class:T(["current-value",e.getThresholdClass(e.runecraftingGained,e.metricThresholds.runecrafting)]),style:A({top:e.computePosition(e.runecraftingGained,e.metricThresholds.runecrafting)+"%"})},m(e.formatNumber(e.runecraftingGained)),7)]),t[2]||(t[2]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/runecraft.png"})],-1))])]),l("tr",null,[l("td",vt,[l("div",bt,[l("div",pt,m(e.formatNumber(e.metricThresholds.thieving[0])),1),l("div",_t,m(e.formatNumber(e.metricThresholds.thieving[1])),1),l("div",yt,m(e.formatNumber(e.metricThresholds.thieving[2])),1),l("div",{class:T(["current-value",e.getThresholdClass(e.thievingGained,e.metricThresholds.thieving)]),style:A({top:e.computePosition(e.thievingGained,e.metricThresholds.thieving)+"%"})},m(e.formatNumber(e.thievingGained)),7)]),t[3]||(t[3]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/thieving.png"})],-1))]),l("td",wt,[l("div",Ct,[l("div",Tt,m(e.formatNumber(e.metricThresholds.tombs[0])),1),l("div",kt,m(e.formatNumber(e.metricThresholds.tombs[1])),1),l("div",xt,m(e.formatNumber(e.metricThresholds.tombs[2])),1),l("div",{class:T(["current-value",e.getThresholdClass(e.toaTotal,e.metricThresholds.tombs)]),style:A({top:e.computePosition(e.toaTotal,e.metricThresholds.tombs)+"%"})},m(e.formatNumber(e.toaTotal)),7)]),t[4]||(t[4]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/toa.png"}),l("img",{src:"/sprites/toaexpert.png"})],-1))]),l("td",Nt,[l("div",Gt,[l("div",Pt,m(e.formatNumber(e.metricThresholds.zalcano[0])),1),l("div",St,m(e.formatNumber(e.metricThresholds.zalcano[1])),1),l("div",Lt,m(e.formatNumber(e.metricThresholds.zalcano[2])),1),l("div",{class:T(["current-value",e.getThresholdClass(e.zalcanoGained,e.metricThresholds.zalcano)]),style:A({top:e.computePosition(e.zalcanoGained,e.metricThresholds.zalcano)+"%"})},m(e.formatNumber(e.zalcanoGained)),7)]),t[5]||(t[5]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/zalcano.png"})],-1))])]),l("tr",null,[l("td",Et,[l("div",Mt,[l("div",Dt,m(e.formatNumber(e.metricThresholds.hitpoints[0])),1),l("div",It,m(e.formatNumber(e.metricThresholds.hitpoints[1])),1),l("div",Vt,m(e.formatNumber(e.metricThresholds.hitpoints[2])),1),l("div",{class:T(["current-value",e.getThresholdClass(e.hitpointsGained,e.metricThresholds.hitpoints)]),style:A({top:e.computePosition(e.hitpointsGained,e.metricThresholds.hitpoints)+"%"})},m(e.formatNumber(e.hitpointsGained)),7)]),t[6]||(t[6]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/hitpoints.png"})],-1))]),l("td",Ft,[l("div",Bt,[l("div",zt,m(e.formatNumber(e.metricThresholds.clues[0])),1),l("div",At,m(e.formatNumber(e.metricThresholds.clues[1])),1),l("div",Ut,m(e.formatNumber(e.metricThresholds.clues[2])),1),l("div",{class:T(["current-value",e.getThresholdClass(e.cluesTotal,e.metricThresholds.clues)]),style:A({top:e.computePosition(e.cluesTotal,e.metricThresholds.clues)+"%"})},m(e.formatNumber(e.cluesTotal)),7)]),t[7]||(t[7]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/cluehard.png"}),l("img",{src:"/sprites/clueelite.png"})],-1))]),l("td",Ot,[l("div",Qt,[l("div",Rt,m(e.formatNumber(e.metricThresholds.smithing[0])),1),l("div",Ht,m(e.formatNumber(e.metricThresholds.smithing[1])),1),l("div",Wt,m(e.formatNumber(e.metricThresholds.smithing[2])),1),l("div",{class:T(["current-value",e.getThresholdClass(e.smithingGained,e.metricThresholds.smithing)]),style:A({top:e.computePosition(e.smithingGained,e.metricThresholds.smithing)+"%"})},m(e.formatNumber(e.smithingGained)),7)]),t[8]||(t[8]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/smithing.png"})],-1))])])])])]),_:1})}var qt=U(Ye,[["render",Xt],["__scopeId","data-v-6aaef330"]]);const jt={name:"UpdatedCompetitionTable",setup(){u([]);const c=u([]),t=u(""),g=u(null),e=u(!1),f=u(!1),p=u(81425),a=u("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},h={low:"progress-low",medium:"progress-medium",high:"progress-high"},k=d=>d<150?h.none:d<300?h.low:d<600?h.medium:h.high,b=d=>d<1e6?`${(d/1e3).toFixed(4)}K`:`${(d/1e6).toFixed(2)}M`,S=d=>`${(d/1e6).toFixed(4)}M`,O=u([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),D=async()=>{f.value=!0;const d=new he({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(p.value);a.value=r.title,c.value=r.participations.map(s=>{const _=s.player.exp||0,C=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:b(_),rawXp:_,lastChangedAt:pe(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:C,rawGainedXP:C,progressGained:b(s.progress.gained),progressStart:b(s.progress.start),progressEnd:b(s.progress.end),levelsGained:b(s.levels.gained),levelsStart:b(s.levels.start),levelsEnd:b(s.levels.end),progressLevels:`Gained: ${b(s.progress.gained)}, Start: ${b(s.progress.start)}, End: ${b(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${S(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`${s.progress.start}`,totalEnd:`${s.progress.end}
            `,progressGainedClass:k(C),progressStartClass:k(s.progress.start),progressGainedClass:k(s.progress.gained),progressEndClass:k(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{f.value=!1}},I=be(()=>{if(!t.value.trim())return;const d=c.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=c.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=c.value.splice(r,1);c.value.unshift(s),g.value=s.id,setTimeout(()=>g.value=null,2e3)}}else e.value=!0},300),z=Z(()=>t.value.trim()?c.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):c.value),Q=d=>{p.value=d,D()};return oe(D),{columns:O,filteredRows:z,searchQuery:t,highlightedId:g,debouncedSearch:I,playerNotFoundDialog:e,loading:f,updateCompetition:Q,competitionTitle:a}}},Kt={class:"q-gutter-sm row items-center"},Zt=["innerHTML"],Yt=["innerHTML"],Jt=["innerHTML"],$t=["innerHTML"],ea=["src","alt"];function ta(c,t,g,e,f,p){return N(),M(j,null,{default:o(()=>[l("div",Kt,[n(ce,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(te,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(J,null,{default:o(()=>[n(G,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(81425))},{default:o(()=>[n(P,null,{default:o(()=>t[8]||(t[8]=[x("Royal Titans")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(75869))},{default:o(()=>[n(P,null,{default:o(()=>t[9]||(t[9]=[x("Zilyana")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(68468))},{default:o(()=>[n(P,null,{default:o(()=>t[10]||(t[10]=[x("Duke")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(50451))},{default:o(()=>[n(P,null,{default:o(()=>t[11]||(t[11]=[x("Zulrah")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(46277))},{default:o(()=>[n(P,null,{default:o(()=>t[12]||(t[12]=[x("General Graardor")])),_:1})]),_:1}),n(G,{clickable:"",onClick:t[6]||(t[6]=a=>e.updateCompetition(40782))},{default:o(()=>[n(P,null,{default:o(()=>t[13]||(t[13]=[x("Scurrius")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(E,{class:T(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,Zt)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(E,{class:T(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,Yt)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(E,{class:T(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Jt)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(E,{class:T(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,$t)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(E,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,ea)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(me,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[7]||(t[7]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[14]||(t[14]=[x(" Player not found. Please try a different query. ")])),_:1}),n(ae,{align:"right"},{default:o(()=>[ve(n(Y,{flat:"",label:"Close"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var aa=U(jt,[["render",ta]]);const la={name:"BingoWrapper",components:{NewBingoTest:qt,BingoTable2:je}};function sa(c,t,g,e,f,p){const a=ie("NewBingoTest"),i=ie("BingoTable2");return N(),q("div",null,[n(a),n(i)])}var oa=U(la,[["render",sa],["__scopeId","data-v-36b0257e"]]);const na={};function ra(c,t){return t[0]||(t[0]=Se('<div><h3 style="text-align:center;text-shadow:1px 1px black;">Hall of Fame</h3></div><div><h6 style="text-shadow:1px 1px black;">Skill of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1. Cooking - white646 <br> 2. Runecraft - zhwiggy <br> 3. Smithing - vantri<br> 4. Mining - vantri<br> 5. Slayer - Trois<br> 6. Hunter - January 2024 - 45.1m pot - XP winner Vairaq Lvl winner jdigga8 <br> 7 Ranged - February 2024 - 6.5m pot - XP and level winner: Vairaq<br> 8 Fletching - March 2024 - 52M pot. XP winner HopefulMitch Lvl winner donutrat<br> 9 Prayer - May 2024 - 61M pot. XP and Lvl winner zercaz <br> 10. Crafting (70m pot) - vantri <br> 11. Fishing (50m pot) - vantri <br> 12. Agility (48m pot) - Renxt &amp; Pigi Chops <br> 13. Construction (100m pot)- Venged Dh &amp; DarkMagkMage <br> 14. Farming - 1st place all3survivor, 2nd Yurik36, 3rd Vantri110 </div><div><h6 style="text-shadow:1px 1px black;">Boss of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1 Callisto - OG Leksa <br> 2 Dagannoth Prime - Canceled<br> 3 Duke of Sucellus - Canceled<br> 4 Scurrius March 2024 - Pot 60m - : jdigga8 <br> 5 BANDOS JUNE 2 - Baby Leah <br> 6 Zulrah - 3rdAgeLegend <br> 7 Duke - ishinigam1 <br> 8 Zilyana - zercaz<br></div><div><h6 style="text-shadow:1px 1px black;">Bingo Champions</h6></div><div style="text-shadow:1px 1px black;"> April 2024 - Winner: Team No Life <br> November 2024 - Winner: Team Jad Bods <br> February 2025 - RNG vs RMF (Clan vs Clan) - RMF sadboi :( </div><div><h6 style="text-shadow:1px 1px black;"> Clan Benefactors (Sugar Daddies/Mommies) </h6></div><div style="text-shadow:1px 1px black;"> Icecream Man - ~2B<br> Hopeful Mitch - ~1.5b <br> Stolen Gun - ~1b<br> Baby Leah - ~1b <br> Fortunate1 - ~550m <br> OG Echelon - ~150m <br> Tahenrick - ~50m <br> 1x47 - 50m <br> WalkinTaco22 - ~35m <br> Shitdick - ~50m<br> Ass Clincher - 25m<br> Mr Walton - 10m <br> Omni Whisper - Server Booster <br> Captain Shell - 20m <br><sub>(Currently building this list. If you do not see yourself or if the amount listed is incorrect please reach out and correct us so it can be accurately modified. This was a new idea and I&#39;m trying to track and recognize ALL donators. TIA)</sub></div>',9))}var ia=U(na,[["render",ra]]);const da={class:"q-gutter-md row justify-center",style:{"flex-wrap":"nowrap"}},ca={class:"q-mt-md"},ma={__name:"EventsPage",setup(c){const t=u([{name:"calendar",component:de}]),g={calendar:de,competitions:We,botw:aa,bingo:oa,potm:Me,hof:ia};function e(a){return t.value.some(i=>i.name===a)}function f(a){e(a)?p(a):t.value.push({name:a,component:g[a]})}function p(a){t.value=t.value.filter(i=>i.name!==a)}return(a,i)=>(N(),M(j,{class:"q-pa-md"},{default:o(()=>[l("div",da,[n(W,{label:"Calendar",tooltip:"Calendar",icon:"/icons/calendarbook.png",animationClass:"animate__fadeInDown",buttonClass:"leagues-style",active:e("calendar"),onClick:i[0]||(i[0]=h=>f("calendar"))},null,8,["active"]),n(W,{label:"Skill of the Week",tooltip:"Skill of the Week",icon:"/icons/ARTSNEW.png",animationClass:"animate__zoomIn",buttonClass:"wild-style",active:e("competitions"),onClick:i[1]||(i[1]=h=>f("competitions"))},null,8,["active"]),n(W,{label:"Boss of the Week",tooltip:"Boss of the Week",icon:"/icons/pvm.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("botw"),onClick:i[2]||(i[2]=h=>f("botw"))},null,8,["active"]),n(W,{label:"Pet of the Month",tooltip:"Pet of the Month",icon:"/potm/rift.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("potm"),onClick:i[3]||(i[3]=h=>f("potm"))},null,8,["active"]),n(W,{label:"Bingo Table",tooltip:"Bingo",icon:"/icons/minigamesIcon.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("bingo"),onClick:i[4]||(i[4]=h=>f("bingo"))},null,8,["active"]),n(W,{label:"Hall of Fame",tooltip:"Hall of Fame",icon:"/icons/trophy.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("hof"),onClick:i[5]||(i[5]=h=>f("hof"))},null,8,["active"])]),i[6]||(i[6]=l("div",null,[l("p",{style:{"text-align":"center","text-shadow":"1px 1px black"}},[l("sub",null,"Note: Our trackers use Wise Old Man; there may be errors due to hiscore update delays.")])],-1)),l("div",ca,[(N(!0),q(le,null,se(t.value,h=>(N(),M($,{key:h.name,class:"q-mb-md"},{default:o(()=>[n(ee,null,{default:o(()=>[(N(),M(Le(h.component)))]),_:2},1024),n(ae,{align:"right"},{default:o(()=>[n(Y,{flat:"",glossy:"",label:"Close",color:"negative",onClick:k=>p(h.name)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1}))}};var ya=U(ma,[["__scopeId","data-v-29181be4"]]);export{je as B,We as C,ya as E,qt as N};
