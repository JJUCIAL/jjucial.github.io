import{_ as R,a5 as _e,a6 as we,a7 as Ce,a8 as Te,x as ke,a9 as xe,B as J,h as k,j as x,C as $,D as ee,y as Ne}from"./CalendarApp.vue_vue_type_style_index_0_lang.58060554.js";import{d as Y}from"./QBtn.87efa5e8.js";import{g as ce,h as te,i as K,j as E,d as me,b as ae,C as ue,f as j,W as he,P as ge,l as Ge}from"./EventsPage.vue_vue_type_style_index_0_scoped_true_lang.162bf18e.js";import{r as u,K as S,L as q,O as n,P as o,M as l,Z as le,Y as se,R as M,Q as m,S as fe,f as Z,p as oe,N as _,V as N,B as ve,w as Se,av as re,aw as z,X as ie,W as Pe,ax as Le}from"./index.eb12b25c.js";import{u as Ee,P as Me}from"./useCalendarData.6ea4f978.js";import{d as be,f as pe}from"./debounce.b04fda1d.js";const De={setup(){const{eventDetails:c,events:t,getEventColor:g,formatDate:e}=Ee(),f=u(53),p=e(new Date),a=u(p);return{splitterModel:f,date:a,events:t,eventDetails:c,getEventColor:g,today:p}}},Ve={class:"q-pa-md"},Be={class:"text-h4 q-mb-md"};function Fe(c,t,g,e,f,p){return S(),q("div",null,[n(xe,{modelValue:e.splitterModel,"onUpdate:modelValue":t[2]||(t[2]=a=>e.splitterModel=a),style:{height:"450px"}},{before:o(()=>[l("div",Ve,[n(_e,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=a=>e.date=a),events:e.events,"event-color":e.getEventColor},null,8,["modelValue","events","event-color"])])]),separator:o(()=>[n(we,{draggable:"false",color:"secondary","text-color":"white",size:"40px",icon:"img:/icons/witch16.png"})]),after:o(()=>[n(Ce,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=a=>e.date=a),animated:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:o(()=>[(S(!0),q(le,null,se(e.events,a=>(S(),M(Te,{key:a,name:a},{default:o(()=>{var i,h,G;return[l("div",Be,m(((i=e.eventDetails[a])==null?void 0:i.title)||"No Event Scheduled"),1),l("p",null,m(((h=e.eventDetails[a])==null?void 0:h.description)||"No details available. Please check out other planned events by viewing dates that are highlighted on the calendar."),1),(G=e.eventDetails[a])!=null&&G.image?(S(),M(ke,{key:0,src:e.eventDetails[a].image,alt:"Event Image",style:{"max-width":"100%","max-height":"200px"}},null,8,["src"])):fe("",!0)]}),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}var de=R(De,[["render",Fe]]);const Ie={name:"UpdatedCompetitionTable",setup(){u([]);const c=u([]),t=u(""),g=u(null),e=u(!1),f=u(!1),p=u(92307),a=u("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},h={low:"progress-low",medium:"progress-medium",high:"progress-high"},G=d=>d<1e6?h.none:d<5e6?h.low:d<1e7?h.medium:h.high,b=d=>d<1e6?`${(d/1e3).toFixed(2)}K`:`${(d/1e6).toFixed(2)}M`,P=d=>`${(d/1e6).toFixed(2)}M`,U=u([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),D=async()=>{f.value=!0;const d=new he({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(p.value);a.value=r.title,c.value=r.participations.map(s=>{const y=s.player.exp||0,T=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:b(y),rawXp:y,lastChangedAt:pe(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:b(T),rawGainedXP:T,progressGained:b(s.progress.gained),progressStart:b(s.progress.start),progressEnd:b(s.progress.end),levelsGained:b(s.levels.gained),levelsStart:b(s.levels.start),levelsEnd:b(s.levels.end),progressLevels:`Gained: ${b(s.progress.gained)}, Start: ${b(s.progress.start)}, End: ${b(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${P(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`EXP: ${P(s.progress.start)} <br /> LVLS: ${s.levels.start}`,totalEnd:`EXP: ${P(s.progress.end)} <br /> LVLS: ${s.levels.end}`,progressGainedClass:G(T),progressStartClass:G(s.progress.start),progressGainedClass:G(s.progress.gained),progressEndClass:G(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{f.value=!1}},V=be(()=>{if(!t.value.trim())return;const d=c.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=c.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=c.value.splice(r,1);c.value.unshift(s),g.value=s.id,setTimeout(()=>g.value=null,2e3)}}else e.value=!0},300),A=Z(()=>t.value.trim()?c.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):c.value),O=d=>{p.value=d,D()};return oe(D),{columns:U,filteredRows:A,searchQuery:t,highlightedId:g,debouncedSearch:V,playerNotFoundDialog:e,loading:f,updateCompetition:O,competitionTitle:a}}},Ae={class:"q-gutter-sm row items-center"},ze=["innerHTML"],Re=["innerHTML"],Ue=["innerHTML"],Oe=["innerHTML"],Qe=["src","alt"];function He(c,t,g,e,f,p){return S(),M(j,null,{default:o(()=>[l("div",Ae,[n(ce,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(te,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(J,null,{default:o(()=>[n(k,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(92307))},{default:o(()=>[n(x,null,{default:o(()=>t[11]||(t[11]=[_("Woodcutting")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(82668))},{default:o(()=>[n(x,null,{default:o(()=>t[12]||(t[12]=[_("Theiving")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(78623))},{default:o(()=>[n(x,null,{default:o(()=>t[13]||(t[13]=[_("Farming")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(71017))},{default:o(()=>[n(x,null,{default:o(()=>t[14]||(t[14]=[_("Construction")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(65875))},{default:o(()=>[n(x,null,{default:o(()=>t[15]||(t[15]=[_("Agility")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[6]||(t[6]=a=>e.updateCompetition(58100))},{default:o(()=>[n(x,null,{default:o(()=>t[16]||(t[16]=[_("Fishing")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[7]||(t[7]=a=>e.updateCompetition(48025))},{default:o(()=>[n(x,null,{default:o(()=>t[17]||(t[17]=[_("Crafting")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[8]||(t[8]=a=>e.updateCompetition(44571))},{default:o(()=>[n(x,null,{default:o(()=>t[18]||(t[18]=[_("Prayer")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[9]||(t[9]=a=>e.updateCompetition(39755))},{default:o(()=>[n(x,null,{default:o(()=>t[19]||(t[19]=[_("Fletching")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(E,{class:N(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,ze)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(E,{class:N(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,Re)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(E,{class:N(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Ue)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(E,{class:N(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,Oe)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(E,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,Qe)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(me,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[10]||(t[10]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[20]||(t[20]=[_(" Player not found. Please try a different query. ")])),_:1}),n(ae,{align:"right"},{default:o(()=>[ve(n(Y,{flat:"",label:"Close"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var We=R(Ie,[["render",He]]);const Xe={name:"TeamLeaderboard",setup(){const c=u([]),t=u(!0),g=u({}),e="ag5idzcxq01s1yoocwth0llc",f={low:"progress-low",medium:"progress-medium",high:"progress-high"},p=r=>r<5e5?f.low:r<2e6?f.medium:f.high,a=u([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"team",label:"Team",align:"left",field:"team",sortable:!0},{name:"lastUpdated",label:"Last Updated",align:"center",field:"lastUpdated",sortable:!0}]),i=["clue_scrolls_hard","slayer","tombs_of_amascut","tombs_of_amascut_expert","zalcano","smithing","hitpoints","clue_scrolls_elite","thieving","agility","runecrafting"],h={},G=5*60*1e3,b=r=>new Promise(s=>setTimeout(s,r)),P=async(r,s={},y=3,T=1e3)=>{try{const w=await fetch(r,s);if(!w.ok)if(w.status===429||w.status>=500&&w.status<600){if(y>0)return console.warn(`Request failed with status ${w.status}. Retrying in ${T}ms...`),await b(T),P(r,s,y-1,T*2);throw new Error(`Request failed with status ${w.status} after retries.`)}else throw new Error(`Request failed with status ${w.status}.`);return w}catch(w){if(y>0)return console.warn(`Fetch error: ${w.message}. Retrying in ${T}ms...`),await b(T),P(r,s,y-1,T*2);throw w}},U=async r=>{const s=`https://api.wiseoldman.net/v2/competitions/68296/csv?metric=${r}`,y=r,T=Date.now();if(h[y]&&T-h[y].timestamp<G)return console.log(`Using cached data for metric: ${r}`),h[y].data;const L=await(await P(s,{headers:{Authorization:`Bearer ${e}`}})).text();return h[y]={timestamp:T,data:L},L},D=async()=>{t.value=!0;try{const r={};g.value={};for(const s of i)try{const y=await U(s);ge.parse(y,{header:!0,skipEmptyLines:!0}).data.forEach(w=>{const L=w.Username,Q=w.Team||"Unknown",X=parseInt(w.Gained)||0;r[L]||(r[L]={id:L,username:L,team:Q,rank:parseInt(w.Rank),lastUpdated:w["Last Updated"]}),r[L][s]=X,r[L][`${s}Formatted`]=A(X),r[L][`${s}Class`]=p(X),g.value[Q]||(g.value[Q]={}),g.value[Q][s]=(g.value[Q][s]||0)+X}),a.value.find(w=>w.name===s)||a.value.push({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase()),align:"right",field:s,sortable:!0})}catch(y){console.error(`Error fetching metric ${s}:`,y)}c.value=Object.values(r)}catch(r){console.error("Error fetching metrics:",r)}finally{t.value=!1}},V=r=>new Intl.NumberFormat().format(r),A=r=>r>0?`+${V(r)}`:V(r),O=Z(()=>Object.entries(g.value).map(([r,s])=>({team:r,...s,...Object.fromEntries(Object.keys(s).map(y=>[`${y}Formatted`,A(s[y])]))}))),d=Z(()=>{const r=Object.keys(g.value).length?Object.keys(g.value[Object.keys(g.value)[0]]||{}).map(s=>({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase()),align:"right",field:s,sortable:!0})):[];return[{name:"team",label:"Team",align:"left",field:"team",sortable:!0},...r]});return oe(D),{tableData:c,columns:a,loading:t,formatNumber:V,teamsGained:g,teamTableData:O,teamColumns:d}}};function qe(c,t,g,e,f,p){return S(),M(j,null,{default:o(()=>[n(K,{rows:e.tableData,columns:e.columns,"row-key":"username",loading:e.loading,"rows-per-page-options":[5,10,20,-1],class:"team-table",title:"Player Stats"},{"body-cell":o(({row:a,col:i})=>[n(E,{class:N(a[`${i.name}Class`])},{default:o(()=>[_(m(i.name==="rank"||i.name==="username"||i.name==="team"||i.name==="lastUpdated"?a[i.field]:a[`${i.name}Formatted`]||e.formatNumber(a[i.field]||0)),1)]),_:2},1032,["class"])]),_:1},8,["rows","columns","loading"]),Object.keys(e.teamsGained).length?(S(),M(K,{key:0,rows:e.teamTableData,columns:e.teamColumns,"row-key":"team",class:"team-table",title:"Team Stats"},{"body-cell":o(({row:a,col:i})=>[n(E,null,{default:o(()=>[_(m(i.name==="team"?a.team:a[`${i.name}Formatted`]||e.formatNumber(a[i.name]||0)),1)]),_:2},1024)]),_:1},8,["rows","columns"])):fe("",!0)]),_:1})}var je=R(Xe,[["render",qe],["__scopeId","data-v-d9253876"]]);const Ke=["src","alt"],Ze={__name:"EventButton",props:{label:{type:String,required:!0},tooltip:{type:String,required:!0},icon:{type:String,required:!0},animationClass:{type:String,required:!0},buttonClass:{type:String,default:""},active:{type:Boolean,default:!1}},emits:["click"],setup(c,{emit:t}){const g=c,e=t,f=u(null);function p(i,h){i.classList.remove(h),i.offsetWidth,i.classList.add(h)}Se(()=>g.active,i=>{i&&f.value&&p(f.value,g.animationClass)});function a(){e("click")}return(i,h)=>(S(),M(Y,{glossy:"",dense:"",stack:"",label:c.label,color:c.active?"primary":"secondary",class:N([c.buttonClass,c.active?c.animationClass:""]),onClick:a},{default:o(()=>[n(Ne,null,{default:o(()=>[_(m(c.tooltip),1)]),_:1}),l("img",{ref_key:"iconRef",ref:f,class:N(["event-icon",c.active?c.animationClass:""]),src:c.icon,alt:c.label},null,10,Ke)]),_:1},8,["label","color","class"]))}};var W=R(Ze,[["__scopeId","data-v-61fd6b16"]]);const Ye={setup(){const c="ag5idzcxq01s1yoocwth0llc",t=new Map,g=async(v,B={},F=5,I=1e3)=>{try{const C=await fetch(v,B);if(C.status===429)throw new Error("Rate limit exceeded");if(!C.ok)throw new Error(`HTTP error! Status: ${C.status}`);return C}catch(C){if(F>0)return console.warn(`Request failed: ${C.message}. Retrying in ${I}ms...`),await new Promise(H=>setTimeout(H,I)),g(v,B,F-1,I*2);throw C}},e=async(v,B={},F=5,I=1e3)=>{if(t.has(v))return console.log("Using cached data for",v),t.get(v);const H=await(await g(v,B,F,I)).text();return t.set(v,H),H},f=[{slug:"Team+Stolen+Gun",display:"Team Stolen Gun"},{slug:"Team+NOKOMIS",display:"Team NOKOMIS"},{slug:"Team+ren+vvs",display:"Team ren vvs"}],p=u(null),a=u(0),i=u(0),h=u(0),G=u(0),b=u(0),P=u(0),U=u(0),D=u(0),V=u(0),A=u(0),O=u(0),d=u(0),r=u(0);re(()=>{d.value=Number(h.value)+Number(G.value),r.value=Number(a.value)+Number(i.value)});const s=u(!0),y=u(3e4),T=v=>{if(!s.value){alert("Please wait 30 seconds before selecting a new team.");return}p.value=v,s.value=!1,setTimeout(()=>{s.value=!0},y.value)},w=["clue_scrolls_hard","clue_scrolls_elite","slayer","tombs_of_amascut","tombs_of_amascut_expert","hitpoints","thieving","agility","runecrafting","zalcano","smithing"],L=Ge.exports.throttle(async()=>{if(!!p.value)try{await Promise.all(w.map(async v=>{const B=`https://api.wiseoldman.net/v2/competitions/68296/csv?table=team&teamName=${p.value.slug}&metric=${v}`,F=await e(B,{headers:{Authorization:`Bearer ${c}`}}),C=ge.parse(F,{header:!0,skipEmptyLines:!0}).data.reduce((H,ye)=>{const ne=Number(ye.Gained);return H+(isNaN(ne)?0:ne)},0);v==="agility"&&(U.value=C),v==="slayer"&&(D.value=C),v==="clue_scrolls_hard"&&(a.value=C),v==="clue_scrolls_elite"&&(i.value=C),v==="tombs_of_amascut"&&(h.value=C),v==="tombs_of_amascut_expert"&&(G.value=C),v==="hitpoints"&&(b.value=C),v==="thieving"&&(P.value=C),v==="runecrafting"&&(V.value=C),v==="zalcano"&&(A.value=C),v==="smithing"&&(O.value=C)}))}catch(v){console.error("Error fetching data:",v)}},5e3);return re(()=>{p.value&&L()}),{delayTimer:y,teams:f,selectedTeam:p,updateSelectedTeam:T,agilityGained:U,clueScrollEliteGained:i,clueScrollHardGained:a,toaGained:h,toaExpertGained:G,hitpointsGained:b,thievingGained:P,runecraftingGained:V,zalcanoGained:A,smithingGained:O,slayerGained:D,toaTotal:d,cluesTotal:r,computePosition:(v,B)=>{const[F,,I]=B;let C=(v-F)/(I-F)*100;return Math.max(0,Math.min(100,C))},getThresholdClass:(v,B)=>{const[F,I,C]=B;return v<I?"progress-low":v<C?"progress-medium":"progress-high"},metricThresholds:{agility:[5e5,2e6,5e6],slayer:[1e6,5e6,1e7],runecrafting:[5e5,2e6,4e6],thieving:[25e5,5e6,1e7],hitpoints:[15e5,3e6,6e6],clues:[150,300,600],tombs:[150,500,1e3],zalcano:[250,500,1e3],smithing:[5e5,2e6,4e6]},formatNumber:v=>new Intl.NumberFormat().format(v)}}},Je={class:"q-gutter-sm row items-center"},$e={class:"stats-container"},et={class:"stats-table"},tt={class:"stats-cell"},at={class:"progress-cell"},lt={class:"threshold-label threshold-low"},st={class:"threshold-label threshold-medium"},ot={class:"threshold-label threshold-high"},nt={class:"stats-cell"},rt={class:"progress-cell"},it={class:"threshold-label threshold-low"},dt={class:"threshold-label threshold-medium"},ct={class:"threshold-label threshold-high"},mt={class:"stats-cell"},ut={class:"progress-cell"},ht={class:"threshold-label threshold-low"},gt={class:"threshold-label threshold-medium"},ft={class:"threshold-label threshold-high"},vt={class:"stats-cell"},bt={class:"progress-cell"},pt={class:"threshold-label threshold-low"},yt={class:"threshold-label threshold-medium"},_t={class:"threshold-label threshold-high"},wt={class:"stats-cell"},Ct={class:"progress-cell"},Tt={class:"threshold-label threshold-low"},kt={class:"threshold-label threshold-medium"},xt={class:"threshold-label threshold-high"},Nt={class:"stats-cell"},Gt={class:"progress-cell"},St={class:"threshold-label threshold-low"},Pt={class:"threshold-label threshold-medium"},Lt={class:"threshold-label threshold-high"},Et={class:"stats-cell"},Mt={class:"progress-cell"},Dt={class:"threshold-label threshold-low"},Vt={class:"threshold-label threshold-medium"},Bt={class:"threshold-label threshold-high"},Ft={class:"stats-cell"},It={class:"progress-cell"},At={class:"threshold-label threshold-low"},zt={class:"threshold-label threshold-medium"},Rt={class:"threshold-label threshold-high"},Ut={class:"stats-cell"},Ot={class:"progress-cell"},Qt={class:"threshold-label threshold-low"},Ht={class:"threshold-label threshold-medium"},Wt={class:"threshold-label threshold-high"};function Xt(c,t,g,e,f,p){return S(),M(j,{class:"page-container"},{default:o(()=>[l("div",Je,[n(te,{size:"xl",glossy:"",ripple:"",flat:"","text-color":"purple-7",outline:"",label:e.selectedTeam?e.selectedTeam.display:"Please select a Team",class:"col-auto","no-caps":""},{default:o(()=>[n(J,null,{default:o(()=>[(S(!0),q(le,null,se(e.teams,a=>(S(),M(k,{key:a.slug,clickable:"",onClick:i=>e.updateSelectedTeam(a)},{default:o(()=>[n(x,null,{default:o(()=>[_(m(a.display),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["label"])]),t[9]||(t[9]=l("p",{style:{"text-shadow":"1px 1px 1px black"}}," Please give the tables a few seconds to to load; it uses wiseoldman to fetch live data! ",-1)),l("div",$e,[l("table",et,[l("tr",null,[l("td",tt,[l("div",at,[l("div",lt,m(e.formatNumber(e.metricThresholds.agility[0])),1),l("div",st,m(e.formatNumber(e.metricThresholds.agility[1])),1),l("div",ot,m(e.formatNumber(e.metricThresholds.agility[2])),1),l("div",{class:N(["current-value",e.getThresholdClass(e.agilityGained,e.metricThresholds.agility)]),style:z({top:e.computePosition(e.agilityGained,e.metricThresholds.agility)+"%"})},m(e.formatNumber(e.agilityGained)),7)]),t[0]||(t[0]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/agility.png"})],-1))]),l("td",nt,[l("div",rt,[l("div",it,m(e.formatNumber(e.metricThresholds.slayer[0])),1),l("div",dt,m(e.formatNumber(e.metricThresholds.slayer[1])),1),l("div",ct,m(e.formatNumber(e.metricThresholds.slayer[2])),1),l("div",{class:N(["current-value",e.getThresholdClass(e.slayerGained,e.metricThresholds.slayer)]),style:z({top:e.computePosition(e.slayerGained,e.metricThresholds.slayer)+"%"})},m(e.formatNumber(e.slayerGained)),7)]),t[1]||(t[1]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/slayer.png"})],-1))]),l("td",mt,[l("div",ut,[l("div",ht,m(e.formatNumber(e.metricThresholds.runecrafting[0])),1),l("div",gt,m(e.formatNumber(e.metricThresholds.runecrafting[1])),1),l("div",ft,m(e.formatNumber(e.metricThresholds.runecrafting[2])),1),l("div",{class:N(["current-value",e.getThresholdClass(e.runecraftingGained,e.metricThresholds.runecrafting)]),style:z({top:e.computePosition(e.runecraftingGained,e.metricThresholds.runecrafting)+"%"})},m(e.formatNumber(e.runecraftingGained)),7)]),t[2]||(t[2]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/runecraft.png"})],-1))])]),l("tr",null,[l("td",vt,[l("div",bt,[l("div",pt,m(e.formatNumber(e.metricThresholds.thieving[0])),1),l("div",yt,m(e.formatNumber(e.metricThresholds.thieving[1])),1),l("div",_t,m(e.formatNumber(e.metricThresholds.thieving[2])),1),l("div",{class:N(["current-value",e.getThresholdClass(e.thievingGained,e.metricThresholds.thieving)]),style:z({top:e.computePosition(e.thievingGained,e.metricThresholds.thieving)+"%"})},m(e.formatNumber(e.thievingGained)),7)]),t[3]||(t[3]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/thieving.png"})],-1))]),l("td",wt,[l("div",Ct,[l("div",Tt,m(e.formatNumber(e.metricThresholds.tombs[0])),1),l("div",kt,m(e.formatNumber(e.metricThresholds.tombs[1])),1),l("div",xt,m(e.formatNumber(e.metricThresholds.tombs[2])),1),l("div",{class:N(["current-value",e.getThresholdClass(e.toaTotal,e.metricThresholds.tombs)]),style:z({top:e.computePosition(e.toaTotal,e.metricThresholds.tombs)+"%"})},m(e.formatNumber(e.toaTotal)),7)]),t[4]||(t[4]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/toa.png"}),l("img",{src:"/sprites/toaexpert.png"})],-1))]),l("td",Nt,[l("div",Gt,[l("div",St,m(e.formatNumber(e.metricThresholds.zalcano[0])),1),l("div",Pt,m(e.formatNumber(e.metricThresholds.zalcano[1])),1),l("div",Lt,m(e.formatNumber(e.metricThresholds.zalcano[2])),1),l("div",{class:N(["current-value",e.getThresholdClass(e.zalcanoGained,e.metricThresholds.zalcano)]),style:z({top:e.computePosition(e.zalcanoGained,e.metricThresholds.zalcano)+"%"})},m(e.formatNumber(e.zalcanoGained)),7)]),t[5]||(t[5]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/zalcano.png"})],-1))])]),l("tr",null,[l("td",Et,[l("div",Mt,[l("div",Dt,m(e.formatNumber(e.metricThresholds.hitpoints[0])),1),l("div",Vt,m(e.formatNumber(e.metricThresholds.hitpoints[1])),1),l("div",Bt,m(e.formatNumber(e.metricThresholds.hitpoints[2])),1),l("div",{class:N(["current-value",e.getThresholdClass(e.hitpointsGained,e.metricThresholds.hitpoints)]),style:z({top:e.computePosition(e.hitpointsGained,e.metricThresholds.hitpoints)+"%"})},m(e.formatNumber(e.hitpointsGained)),7)]),t[6]||(t[6]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/hitpoints.png"})],-1))]),l("td",Ft,[l("div",It,[l("div",At,m(e.formatNumber(e.metricThresholds.clues[0])),1),l("div",zt,m(e.formatNumber(e.metricThresholds.clues[1])),1),l("div",Rt,m(e.formatNumber(e.metricThresholds.clues[2])),1),l("div",{class:N(["current-value",e.getThresholdClass(e.cluesTotal,e.metricThresholds.clues)]),style:z({top:e.computePosition(e.cluesTotal,e.metricThresholds.clues)+"%"})},m(e.formatNumber(e.cluesTotal)),7)]),t[7]||(t[7]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/cluehard.png"}),l("img",{src:"/sprites/clueelite.png"})],-1))]),l("td",Ut,[l("div",Ot,[l("div",Qt,m(e.formatNumber(e.metricThresholds.smithing[0])),1),l("div",Ht,m(e.formatNumber(e.metricThresholds.smithing[1])),1),l("div",Wt,m(e.formatNumber(e.metricThresholds.smithing[2])),1),l("div",{class:N(["current-value",e.getThresholdClass(e.smithingGained,e.metricThresholds.smithing)]),style:z({top:e.computePosition(e.smithingGained,e.metricThresholds.smithing)+"%"})},m(e.formatNumber(e.smithingGained)),7)]),t[8]||(t[8]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/smithing.png"})],-1))])])])])]),_:1})}var qt=R(Ye,[["render",Xt],["__scopeId","data-v-6aaef330"]]);const jt={name:"UpdatedCompetitionTable",setup(){u([]);const c=u([]),t=u(""),g=u(null),e=u(!1),f=u(!1),p=u(98612),a=u("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},h={low:"progress-low",medium:"progress-medium",high:"progress-high"},G=d=>d<150?h.none:d<300?h.low:d<600?h.medium:h.high,b=d=>d<1e6?`${(d/1e3).toFixed(4)}K`:`${(d/1e6).toFixed(2)}M`,P=d=>`${(d/1e6).toFixed(4)}M`,U=u([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),D=async()=>{f.value=!0;const d=new he({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(p.value);a.value=r.title,c.value=r.participations.map(s=>{const y=s.player.exp||0,T=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:b(y),rawXp:y,lastChangedAt:pe(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:T,rawGainedXP:T,progressGained:b(s.progress.gained),progressStart:b(s.progress.start),progressEnd:b(s.progress.end),levelsGained:b(s.levels.gained),levelsStart:b(s.levels.start),levelsEnd:b(s.levels.end),progressLevels:`Gained: ${b(s.progress.gained)}, Start: ${b(s.progress.start)}, End: ${b(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${P(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`${s.progress.start}`,totalEnd:`${s.progress.end}
            `,progressGainedClass:G(T),progressStartClass:G(s.progress.start),progressGainedClass:G(s.progress.gained),progressEndClass:G(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{f.value=!1}},V=be(()=>{if(!t.value.trim())return;const d=c.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=c.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=c.value.splice(r,1);c.value.unshift(s),g.value=s.id,setTimeout(()=>g.value=null,2e3)}}else e.value=!0},300),A=Z(()=>t.value.trim()?c.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):c.value),O=d=>{p.value=d,D()};return oe(D),{columns:U,filteredRows:A,searchQuery:t,highlightedId:g,debouncedSearch:V,playerNotFoundDialog:e,loading:f,updateCompetition:O,competitionTitle:a}}},Kt={class:"q-gutter-sm row items-center"},Zt=["innerHTML"],Yt=["innerHTML"],Jt=["innerHTML"],$t=["innerHTML"],ea=["src","alt"];function ta(c,t,g,e,f,p){return S(),M(j,null,{default:o(()=>[l("div",Kt,[n(ce,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(te,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(J,null,{default:o(()=>[n(k,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(98612))},{default:o(()=>[n(x,null,{default:o(()=>t[12]||(t[12]=[_("Vardorvis")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(95025))},{default:o(()=>[n(x,null,{default:o(()=>t[13]||(t[13]=[_("Chambers of Xeric")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(93212))},{default:o(()=>[n(x,null,{default:o(()=>t[14]||(t[14]=[_("Amoxliatl")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(83487))},{default:o(()=>[n(x,null,{default:o(()=>t[15]||(t[15]=[_("Giant Mole")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(81425))},{default:o(()=>[n(x,null,{default:o(()=>t[16]||(t[16]=[_("Royal Titans")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[6]||(t[6]=a=>e.updateCompetition(75869))},{default:o(()=>[n(x,null,{default:o(()=>t[17]||(t[17]=[_("Zilyana")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[7]||(t[7]=a=>e.updateCompetition(68468))},{default:o(()=>[n(x,null,{default:o(()=>t[18]||(t[18]=[_("Duke")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[8]||(t[8]=a=>e.updateCompetition(50451))},{default:o(()=>[n(x,null,{default:o(()=>t[19]||(t[19]=[_("Zulrah")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[9]||(t[9]=a=>e.updateCompetition(46277))},{default:o(()=>[n(x,null,{default:o(()=>t[20]||(t[20]=[_("General Graardor")])),_:1})]),_:1}),n(k,{clickable:"",onClick:t[10]||(t[10]=a=>e.updateCompetition(40782))},{default:o(()=>[n(x,null,{default:o(()=>t[21]||(t[21]=[_("Scurrius")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(E,{class:N(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,Zt)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(E,{class:N(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,Yt)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(E,{class:N(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Jt)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(E,{class:N(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,$t)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(E,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,ea)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(me,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[11]||(t[11]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[22]||(t[22]=[_(" Player not found. Please try a different query. ")])),_:1}),n(ae,{align:"right"},{default:o(()=>[ve(n(Y,{flat:"",label:"Close"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var aa=R(jt,[["render",ta]]);const la={name:"BingoWrapper",components:{NewBingoTest:qt,BingoTable2:je}};function sa(c,t,g,e,f,p){const a=ie("NewBingoTest"),i=ie("BingoTable2");return S(),q("div",null,[n(a),n(i)])}var oa=R(la,[["render",sa],["__scopeId","data-v-36b0257e"]]);const na={};function ra(c,t){return t[0]||(t[0]=Pe('<div><h3 style="text-align:center;text-shadow:1px 1px black;">Hall of Fame</h3></div><div><h6 style="text-shadow:1px 1px black;">Skill of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1. Cooking - white646 <br> 2. Runecraft - zhwiggy <br> 3. Smithing - vantri<br> 4. Mining - vantri<br> 5. Slayer - Trois<br> 6. Hunter - January 2024 - 45.1m pot - XP winner Vairaq Lvl winner jdigga8 <br> 7 Ranged - February 2024 - 6.5m pot - XP and level winner: Vairaq<br> 8 Fletching - March 2024 - 52M pot. XP winner HopefulMitch Lvl winner donutrat<br> 9 Prayer - May 2024 - 61M pot. XP and Lvl winner zercaz <br> 10. Crafting (70m pot) - vantri <br> 11. Fishing (50m pot) - vantri <br> 12. Agility (48m pot) - Renxt &amp; Pigi Chops <br> 13. Construction (100m pot) - Venged Dh &amp; DarkMagkMage <br> 14. Farming - 1st all3survivor, 2nd Yurik36, 3rd Vantri110 <br> 15 Thieving - 1st Zhwiggy, 2nd Grimmjowcero, 3rd Vantri110 </div><div><h6 style="text-shadow:1px 1px black;">Boss of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1 Callisto - OG Leksa <br> 2 Dagannoth Prime - Canceled<br> 3 Duke of Sucellus - Canceled<br> 4 Scurrius March 2024 - Pot 60m - : jdigga8 <br> 5 BANDOS JUNE 2 - Baby Leah <br> 6 Zulrah - 3rdAgeLegend <br> 7 Duke - ishinigam1 <br> 8 Zilyana - zercaz<br> 9 Royal Titans - BallistaHype 10 Giant Mole - SrtbusShorty </div><div><h6 style="text-shadow:1px 1px black;">Bingo Champions</h6></div><div style="text-shadow:1px 1px black;"> April 2024 - Winner: Team No Life <br> November 2024 - Winner: Team Jad Bods <br> February 2025 - RNG vs RMF (Clan vs Clan) - RMF sadboi :( <br> April 2025 - Team Fire </div><div><h6 style="text-shadow:1px 1px black;"> Clan Benefactors (Sugar Daddies/Mommies) </h6></div><div style="text-shadow:1px 1px black;"> Icecream Man - ~2B<br> Hopeful Mitch - ~1.5b <br> Fortunate1 - ~1.15B <br> Stolen Gun - ~1.1b<br> Baby Leah - ~1b <br> OG Echelon - ~150m <br> Tahenrick - ~50m <br> 1x47 - 50m <br> WalkinTaco22 - ~35m <br> Shitdick - ~50m<br> Ass Clincher - 25m<br> Mr Walton - 10m <br> Omni Whisper - Server Booster <br> Captain Shell - 20m <br><sub>Updated Aug 5 / 25(Currently building this list. If you do not see yourself or if the amount listed is incorrect please reach out and correct us so it can be accurately modified. This was a new idea and I&#39;m trying to track and recognize ALL donators. TIA)</sub></div>',9))}var ia=R(na,[["render",ra]]);const da={class:"q-gutter-md row justify-center",style:{"flex-wrap":"nowrap"}},ca={class:"q-mt-md"},ma={__name:"EventsPage",setup(c){const t=u([{name:"calendar",component:de}]),g={calendar:de,competitions:We,botw:aa,bingo:oa,potm:Me,hof:ia};function e(a){return t.value.some(i=>i.name===a)}function f(a){e(a)?p(a):t.value.push({name:a,component:g[a]})}function p(a){t.value=t.value.filter(i=>i.name!==a)}return(a,i)=>(S(),M(j,{class:"q-pa-md"},{default:o(()=>[l("div",da,[n(W,{label:"Calendar",tooltip:"Calendar",icon:"/icons/calendarbook.png",animationClass:"animate__fadeInDown",buttonClass:"leagues-style",active:e("calendar"),onClick:i[0]||(i[0]=h=>f("calendar"))},null,8,["active"]),n(W,{label:"Skill of the Week",tooltip:"Skill of the Week",icon:"/icons/ARTSNEW.png",animationClass:"animate__zoomIn",buttonClass:"wild-style",active:e("competitions"),onClick:i[1]||(i[1]=h=>f("competitions"))},null,8,["active"]),n(W,{label:"Boss/Raid of the Week",tooltip:"Boss of the Week",icon:"/icons/pvm.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("botw"),onClick:i[2]||(i[2]=h=>f("botw"))},null,8,["active"]),n(W,{label:"Pet of the Month",tooltip:"Pet of the Month",icon:"/potm/muphin.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("potm"),onClick:i[3]||(i[3]=h=>f("potm"))},null,8,["active"]),n(W,{label:"Bingo Table",tooltip:"Bingo",icon:"/icons/minigamesIcon.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("bingo"),onClick:i[4]||(i[4]=h=>f("bingo"))},null,8,["active"]),n(W,{label:"Hall of Fame",tooltip:"Hall of Fame",icon:"/icons/trophy.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("hof"),onClick:i[5]||(i[5]=h=>f("hof"))},null,8,["active"])]),i[6]||(i[6]=l("div",null,[l("p",{style:{"text-align":"center","text-shadow":"1px 1px black"}},[l("sub",null,"Note: Our trackers use Wise Old Man; there may be errors due to hiscore update delays.")])],-1)),l("div",ca,[(S(!0),q(le,null,se(t.value,h=>(S(),M($,{key:h.name,class:"q-mb-md"},{default:o(()=>[n(ee,null,{default:o(()=>[(S(),M(Le(h.component)))]),_:2},1024),n(ae,{align:"right"},{default:o(()=>[n(Y,{flat:"",glossy:"",label:"Close",color:"negative",onClick:G=>p(h.name)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1}))}};var _a=R(ma,[["__scopeId","data-v-ec078aca"]]);export{je as B,We as C,_a as E,qt as N};
