import{d as c}from"./QBtn.1940a0df.js";import{Q as x}from"./QBanner.c1f776ea.js";import{_ as y,C as _,D as d,A as B,x as b}from"./CalendarApp.vue_vue_type_style_index_0_lang.31882b31.js";import{g,b as h,d as w,i as D,u as V,e as T,f as A}from"./EventsPage.vue_vue_type_style_index_0_scoped_true_lang.85df6581.js";/* empty css                                                                 */import{K as m,L as f,O as e,P as o,M as n,ay as M,Q as u,S as k,f as P,r as p,w as Q,R as O,Z as q}from"./index.254b51ad.js";import"./pinia.7a0432e1.js";const I={name:"ClanBankPage",data(){return{passwordDialogOpen:!0,password:"",correctPassword:"secret",passwordVerified:!1,columns:[{name:"name",label:"Name",field:"name"},{name:"balance",label:"Balance",field:"balance"}],clanMembers:[{id:1,name:"Dope",balance:100},{id:2,name:"Leg",balance:50},{id:3,name:"Zhw",balance:75},{id:4,name:"Surv",balance:120}],transactionDialogOpen:!1,transactionType:"",transactionAmount:0,activeMember:null}},computed:{grandTotal(){return this.clanMembers.reduce((l,a)=>l+a.balance,0)}},methods:{async checkPassword(){try{this.password===this.correctPassword?(this.passwordVerified=!0,this.passwordDialogOpen=!1,await this.$nextTick(),console.log("Password verified, UI should update.")):this.$q.notify({type:"negative",message:"Invalid password"})}catch(l){console.error("Error in checkPassword:",l)}},openAddDialog(l){this.activeMember=l,this.transactionType="Add",this.transactionAmount=0,this.transactionDialogOpen=!0},openRemoveDialog(l){this.activeMember=l,this.transactionType="Remove",this.transactionAmount=0,this.transactionDialogOpen=!0},async confirmTransaction(){try{if(!this.activeMember)return;if(this.transactionType==="Add")this.activeMember.balance+=this.transactionAmount;else if(this.transactionType==="Remove"){if(this.activeMember.balance<this.transactionAmount){this.$q.notify({type:"negative",message:"Insufficient funds!"});return}this.activeMember.balance-=this.transactionAmount}await this.$nextTick(),this.transactionDialogOpen=!1}catch(l){console.error("Error in confirmTransaction:",l)}}}},R={class:"q-pa-md"},S={key:0},U={class:"row items-center no-wrap"},E={class:"col"},K={class:"text-subtitle1 q-mt-md"},N={class:"text-h6"};function L(l,a,v,C,s,i){return m(),f("div",R,[e(w,{modelValue:s.passwordDialogOpen,"onUpdate:modelValue":a[1]||(a[1]=t=>s.passwordDialogOpen=t),persistent:""},{default:o(()=>[e(_,null,{default:o(()=>[e(d,null,{default:o(()=>a[5]||(a[5]=[n("div",{class:"text-h6"},"Enter Password",-1)])),_:1}),e(d,null,{default:o(()=>[e(g,{modelValue:s.password,"onUpdate:modelValue":a[0]||(a[0]=t=>s.password=t),label:"Password",type:"password",outlined:"",onKeyup:M(i.checkPassword,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(h,{align:"right"},{default:o(()=>[e(c,{color:"primary",label:"Confirm",onClick:i.checkPassword},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s.passwordVerified?(m(),f("div",S,[a[6]||(a[6]=n("h2",null,"Clan Bank",-1)),e(D,{data:s.clanMembers,columns:s.columns,"row-key":"id",title:"Clan Balances"},{"body-cell-balance":o(({row:t})=>[n("div",U,[n("div",E,u(t.balance),1),e(c,{flat:"",round:"",icon:"add",color:"positive",onClick:r=>i.openAddDialog(t),class:"q-ml-sm"},null,8,["onClick"]),e(c,{flat:"",round:"",icon:"remove",color:"negative",onClick:r=>i.openRemoveDialog(t),class:"q-ml-sm"},null,8,["onClick"])])]),_:1},8,["data","columns"]),n("div",K,"Grand Total: "+u(i.grandTotal),1)])):k("",!0),e(w,{modelValue:s.transactionDialogOpen,"onUpdate:modelValue":a[4]||(a[4]=t=>s.transactionDialogOpen=t)},{default:o(()=>[e(_,null,{default:o(()=>[e(d,null,{default:o(()=>{var t;return[n("div",N,u(s.transactionType)+" Funds for "+u((t=s.activeMember)==null?void 0:t.name),1)]}),_:1}),e(d,null,{default:o(()=>[e(g,{modelValue:s.transactionAmount,"onUpdate:modelValue":a[2]||(a[2]=t=>s.transactionAmount=t),modelModifiers:{number:!0},label:"Amount",type:"number",outlined:""},null,8,["modelValue"])]),_:1}),e(h,{align:"right"},{default:o(()=>[e(c,{color:"primary",label:"Confirm",onClick:i.confirmTransaction},null,8,["onClick"]),e(c,{flat:"",label:"Cancel",onClick:a[3]||(a[3]=t=>s.transactionDialogOpen=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var F=y(I,[["render",L],["__scopeId","data-v-a58d9d68"]]);const H={class:"page-wrapper"},Z={class:"center-container"},j={class:"top-scroll"},G={class:"mid-scroll"},W={class:"table-container"},Y={class:"bottom-scroll"},$=`
  Here you will find our events calendar along with different event systems. You can view and close event blocks by clicking the buttons
`,z=Object.assign({name:"IndexPage"},{__name:"ClanBank",setup(l){const a=B(),v=P(()=>a.activeButton);V().addressbarColor.set("#a2e3fa");const s=p(!1);Q(()=>v.value,t=>{t==="tiddi"?s.value=!0:s.value=!1}),p(!0);const i=p(!0);return(t,r)=>(m(),f(q,null,[i.value?(m(),O(x,{key:0,class:"bg-primary text-white",inline:""},{default:o(()=>[n("div",{class:"q-gutter-sm"},[r[1]||(r[1]=n("span",{style:{"text-shadow":"1px 1px black"},class:"text-h6 text-secondary"},"Clan Bank",-1)),n("div",{style:{"text-shadow":"1px 1px black"},innerHTML:$})]),e(c,{flat:"",dense:"",icon:"close",onClick:r[0]||(r[0]=J=>i.value=!1)})]),_:1})):k("",!0),n("div",H,[n("div",Z,[e(T,{style:{width:"100%","max-width":"650px",margin:"auto"}},{default:o(()=>[e(A,{class:"top-scroll-container"},{default:o(()=>[n("div",j,[e(b,{src:"/tiddi3.png"})]),n("div",G,[n("div",W,[e(F)])]),n("div",Y,[e(b,{src:"/bottom.gif"})])]),_:1})]),_:1})])])],64))}});var le=y(z,[["__scopeId","data-v-7ec6f7b6"]]);export{le as default};
